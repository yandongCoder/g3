<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../dist/css/graph.css">
    <style>
        .svg1 {
            width: 1500px;
            height: 500px;
            background: beige;
        }
    </style>
</head>
<body>
<svg id="my-svg" class="svg1"></svg>
<button id="showBrush">show brush</button>
<button id="hideBrush">hide brush</button>
<svg id="my-svg2" class="svg2"></svg>
</body>
</html>
<script src="../node_modules/d3/build/d3.js"></script>
<script src="../node_modules/jquery/dist/jquery.min.js"></script>
<script src="../dist/js/g3.js"></script>
<script>
    var nodes = [{id: 1, label: "A", x: 0, y: 0, radius: 30, color: "#547895"}, {id: 2, label: "A", x: 100, y: 0, radius: 20},
        {id: 3, label: "C", x: 0, y: 100, radius: 30}, {id: 4, label: "D", x: 100, y: 100, radius: 20},
        {id: 5, label: "E", x: 0, y: 200, radius: 30}, {id: 6, label: "F", x: 100, y: 200, radius: 20},
        {id: 7, label: "X", x: 0, y: 300, radius: 30}, {id: 8, label: "Y", x: 100, y: 300, radius: 20}
    ];
    var links = [{id: 1, label: "A", src: 1, dst: 2,direction: 1, width: 5},
        {id: 2, label: "C", src: 1, dst: 3,direction: 2, width: 5},
        {id: 3, label: "EF1", src: 5, dst: 6,direction: 3, width: 5},
        {id: 4, label: "EF2", src: 6, dst: 5, direction: 3},
        {id: 5, label: "X", src: 7, dst: 8,direction: 0, width: 5, color: 'blue'}

    ];


    var myGraph = g3.graph("#my-svg")
            .width(300)
            .height(300)
            .nodes([{id: 1, label: "a", x: 100, y: 100}, {id: 2, label: "b", x: 200, y: 200}, {id: 3, label: "c", x: 300, y: 300}])
            .links([{id:1, label: "a", src: 1, dst: 2}, {id:2, label: "b", src: 1, dst: 2}, {id:3, label: "c", src: 2, dst: 1}, {id:4, label: "d", src: 3, dst: 2}]);

    d3.select("#showBrush").on('click', myGraph.brush.show);
    d3.select("#hideBrush").on('click', myGraph.brush.hide);

    //myGraph.nodes()[1].NtoL();
    setTimeout(function(){
        //myGraph.links({id:6, label: "added", src: 5, dst: 6});
        //myGraph.links()[6].merge();
        //myGraph.removeNodes(nodes[4]);
        //myGraph.nodes({id: 7, label: "G", x: 80, y:170});
        //myGraph.links({id: 99, label: "A->D", src: 2, dst: 4,direction: 0});
        //myGraph.nodes()[0].NtoL(true);
        //myGraph.nodes()[0].color("#442233").label("AAA");
        //graph.n2l(4);
//        $.getJSON('http://localhost/magneto_api/g3.php/nodes')
//                .then(function(data){
//                    myGraph.nodes(data);
//                });
    },500);
//
//    setTimeout(function () {
//        myGraph.links()[7].unmerge();
//    }, 2000);
//    setTimeout(function(){
//        myGraph.links()[0].label("updateed");
//    },2000);
//
//    setTimeout(function(){
//        graph.nodes({id: 7, label: "G", x: 80, y:170});
//        graph.links({id: 99, label: "A->D", src: 2, dst: 4,direction: 0});
//        nodes[3]['label'] = "changedD";
//    }, 1000);
//
//    setTimeout(function(){
//        //graph.removeNodes(nodes[0]);
//        //graph.removeLinks(links[0]);
//        myGraph._getSvgSelection().call(myGraph.zoom.transform, d3.zoomIdentity.scale(2.2));
//    }, 1500);


//
//    var graph2 = g3.graph("#my-svg2")
//            .width(300)
//            .height(300)
//            .nodes(nodes)
//            .links(links);
//
//    graph2.render();

</script>