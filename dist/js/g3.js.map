{"version":3,"file":null,"sources":["../../src/utils/select.js","../../src/graph/width.js","../../src/graph/height.js","../../src/graph/render.js","../../src/graph/data.js","../../src/graph/nodes.js","../../src/utils/getStrLen.js","../../src/graph/node/index.js","../../src/graph/addNode.js","../../src/graph/hasNode.js","../../src/graph/clearNodes.js","../../src/graph/links.js","../../src/utils/getNodeById.js","../../src/graph/link/hasST.js","../../src/utils/getOffsetCoordinate.js","../../src/graph/link/direction.js","../../src/graph/link/getPath.js","../../src/graph/link/getStartArrow.js","../../src/graph/link/getEndArrow.js","../../src/graph/link/getTextCenter.js","../../src/graph/link/getLinkLabelTransform.js","../../src/graph/link/index.js","../../src/graph/addLink.js","../../src/graph/hasLink.js","../../src/graph/clearLinks.js","../../src/graph/init/appendPreDefs.js","../../src/graph/init/appendPreElement.js","../../src/graph/init/zoom.js","../../src/graph/init/init.js","../../src/utils/getAbsUrl.js","../../src/graph/draw/drawNodes.js","../../src/graph/draw/drawLinks.js","../../src/graph/draw/index.js","../../src/graph/transform.js","../../src/graph/index.js"],"sourcesContent":["export default function (selector) {\r\n    return typeof selector === \"string\"? document.querySelector(selector): selector;\r\n}","export default function (width) {\r\n    if(!arguments.length) {\r\n        return this._width;\r\n    }\r\n    \r\n    this._width = width;\r\n\r\n    return this;\r\n}","export default function (height) {\r\n    if(!arguments.length) {\r\n        return this._height;\r\n    }\r\n    this._height = height;\r\n\r\n    return this;\r\n}","export default function () {\r\n    this._init();\r\n    this._draw();\r\n}","export default function (data) {\r\n    if(!arguments.length){\r\n        return data;\r\n    }\r\n    this._data = data;\r\n    return this;\r\n}","export default function (nodes, cover) {\r\n    if(!Array.isArray(nodes)){\r\n        nodes = [nodes];\r\n    }\r\n\r\n    if(!arguments.length){\r\n        return this._nodes;\r\n    }\r\n\r\n    if(cover){\r\n        this.clearNodes();\r\n    }\r\n\r\n    nodes.forEach(function(v){\r\n        this.addNode(v);\r\n    },this);\r\n\r\n    return this;\r\n}","//中文为2长度，非中文为1\r\n\r\nexport default function (str) {\r\n    var len = 0;\r\n    if (typeof str !== \"string\") {\r\n        return len;\r\n    }\r\n    for (var i = 0; i < str.length; i++) {\r\n        if (str.charAt(i) > '~') {\r\n            len += 2;\r\n        } else {\r\n            len++;\r\n        }\r\n    }\r\n    return len;\r\n};","import getStrLen from \"../../utils/getStrLen\";\r\n\r\nexport default function Node(data) {\r\n    this.id = data.id;\r\n    this.label = data.label;\r\n    this.x = data.x;\r\n    this.y = data.y;\r\n}\r\n\r\nNode.prototype = {\r\n    constructor: Node,\r\n    getId: function () {\r\n        return this.id;\r\n    },\r\n    getLabelWidth: function(){\r\n        return getStrLen(this.getLabel()) * 9;\r\n    },\r\n    getLabel: function(){\r\n        return this.combinedLabel || this.label || \"No Label\";\r\n    },\r\n    getColor: function () {\r\n        return this.color || \"#123456\";\r\n    },\r\n    getTranslate: function () {\r\n        return \"translate(\" + this.x + \",\" + this.y + \")\";\r\n    }\r\n};","import Node from \"./node/index\";\r\n\r\nexport default function (obj) {\r\n    var node = new Node(obj);\r\n    if(!this.hasNode(node)) this._nodes.push(node);\r\n}\r\n","export default function (node) {\r\n    var ids = this._nodes.map(function(d){return d.id});\r\n\r\n    return ids.indexOf(node.id) !== -1;\r\n}","export default function () {\r\n    this._nodes = [];\r\n}","export default function (links, cover) {\r\n    if(!Array.isArray(links)){\r\n        links = [links];\r\n    }\r\n\r\n    if(!arguments.length){\r\n        return this._links;\r\n    }\r\n\r\n    if(cover){\r\n        this.clearLinks();\r\n    }\r\n\r\n    links.forEach(function(v){\r\n        this.addLink(v);\r\n    },this);\r\n    \r\n    return this;\r\n}","export default function (id, Nodes) {\r\n    return Nodes.filter(function(d){\r\n        return d.id === id;\r\n    })[0];\r\n}","//Link has source and target Node in _nodes\r\nexport default function () {\r\n    return (this.source !== undefined) && (this.target !== undefined);\r\n}","export default function (Xs, Ys, Xd, Yd, offsetLength) {\r\n    var offsetScale = d3.scaleLinear().domain([1, 20]).range([25, 50]).clamp(true);\r\n    var s = offsetScale(offsetLength) || 30;\r\n\r\n    var l = Math.sqrt((Xd - Xs) * (Xd - Xs) + (Yd - Ys) * (Yd - Ys));\r\n    var sin = (Yd - Ys) / l;\r\n    var cos = (Xd - Xs) / l;\r\n\r\n    return {\r\n        Xs: Xs + s * cos || Xs,\r\n        Ys: Ys + s * sin || Ys,\r\n        Xd: Xd - s * cos || Xd,\r\n        Yd: Yd - s * sin || Yd\r\n    }\r\n}","const DIRECTION = {\r\n    NONE: 0,\r\n    FROM: 1,\r\n    TO: 2,\r\n    DOUBLE: 3\r\n};\r\n\r\nexport default DIRECTION;","import getOffsetCoordinate from \"../../utils/getOffsetCoordinate\";\r\nimport DIRECTION from \"./direction\";\r\n\r\nexport default function (r, asSvgPathAttr) {\r\n    var offset = getOffsetCoordinate(this.source.x, this.source.y, this.target.x, this.target.y, this.originalLinks ? this.originalLinks.length : 1);\r\n    var halfR = r / 2;\r\n\r\n    var Xs = this.source.x,\r\n        Ys = this.source.y,\r\n        Xd = this.target.x,\r\n        Yd = this.target.y;\r\n\r\n    if(this.direction === DIRECTION.TO || this.direction === DIRECTION.DOUBLE){\r\n        Xs = offset.Xs;\r\n        Ys = offset.Ys;\r\n    }\r\n    if(this.direction === DIRECTION.FROM || this.direction === DIRECTION.DOUBLE){\r\n        Xd = offset.Xd;\r\n        Yd = offset.Yd;\r\n    }\r\n\r\n    if(asSvgPathAttr)\r\n        return 'M ' + (Xs + halfR) + ' ' + (Ys + halfR) + ' L ' + (Xd + halfR) + ' ' + (Yd + halfR);\r\n    else\r\n        return {\r\n            Xs: Xs + halfR,\r\n            Ys: Ys + halfR,\r\n            Xd: Xd + halfR,\r\n            Yd: Yd + halfR\r\n        };\r\n}","import DIRECTION from \"./direction\";\r\n\r\nexport default function () {\r\n    if(this.direction === DIRECTION.TO || this.direction === DIRECTION.DOUBLE){\r\n        return \"url(\" + window.location.href.split('#')[0] + \"#start-arrow)\";\r\n    }\r\n}","import DIRECTION from \"./direction\";\r\n\r\nexport default function () {\r\n    if(this.direction === DIRECTION.FROM || this.direction === DIRECTION.DOUBLE){\r\n        return \"url(\" + window.location.href.split('#')[0] + \"#end-arrow)\";\r\n    }\r\n}","import getStrLen from \"../../utils/getStrLen\";\r\n\r\nexport default function (pathCoord) {\r\n\r\n    var x = Math.abs(pathCoord.Xs - pathCoord.Xd);\r\n    var y = Math.abs(pathCoord.Ys - pathCoord.Yd);\r\n    var z = Math.sqrt(x * x + y * y);\r\n    var charLength = getStrLen(this.getLabel()) * 6 / 2;\r\n    //字长度\r\n    return z / 2 - charLength;\r\n}","export default function (r, scaleFactor) {\r\n    var coord = this.getPath(r);//linkCoord\r\n    var halfR = r / 2;\r\n    var rx = ( (coord.Xs) + (coord.Xd) ) / 2;\r\n    var ry = ( (coord.Ys) + (coord.Yd) ) / 2;\r\n\r\n    if (coord.Xd < coord.Xs) {\r\n        return 'rotate(180 ' + rx + ' ' + ry + ') translate(' + rx + ' ' + ry + ') scale(' + 1 / scaleFactor + ') translate(' + -rx + ' ' + -ry + ')';\r\n        //先移动原点到字体位置，然后进行缩放，在将原点移回到初始位置\r\n    } else {\r\n        return 'translate(' + rx + ' ' + ry + ') scale(' + 1 / scaleFactor + ') translate(' + -rx + ' ' + -ry + ')';\r\n    }\r\n}","import getNodeById from \"../../utils/getNodeById\";\r\nimport hasST from \"./hasST\";\r\nimport getPath from \"./getPath\";\r\nimport getStartArrow from \"./getStartArrow\";\r\nimport getEndArrow from \"./getEndArrow\";\r\nimport getTextCenter from \"./getTextCenter\";\r\nimport getLinkLabelTransform from \"./getLinkLabelTransform\";\r\n\r\nexport default function Link(data, nodes) {\r\n    this.id = data.id;\r\n    this.label = data.label;\r\n    this.src = data.src;\r\n    this.dst = data.dst;\r\n    this.direction = data.direction === undefined? 1: data.direction;//0: none, 1: from, 2: to, 3 double\r\n\r\n    this.source = getNodeById(this.src, nodes);\r\n    this.target = getNodeById(this.dst, nodes);\r\n}\r\n\r\nLink.prototype = {\r\n    constructor: Link,\r\n    hasST: hasST,\r\n    getPath: getPath,\r\n    getStartArrow: getStartArrow,\r\n    getEndArrow: getEndArrow,\r\n    getTextCenter: getTextCenter,\r\n    getLinkLabelTransform: getLinkLabelTransform,\r\n    getId: function () {\r\n        return this.id;\r\n    },\r\n    getLabel: function(){\r\n        return this.combinedLabel || this.label || this.linkTypeName || 'No label';\r\n    }\r\n};","import Link from \"./link/index\";\r\n\r\nexport default function (obj) {\r\n    var link = new Link(obj, this._nodes);\r\n    if(!this.hasLink(link) && link.hasST()) this._links.push(link);\r\n}\r\n","export default function (link) {\r\n    var ids = this._links.map(function(d){return d.id});\r\n\r\n    return ids.indexOf(link.id) !== -1;\r\n}","export default function () {\r\n    this._links = [];\r\n}","export default function () {\r\n    let str = `<defs>\r\n                        <filter id=\"shadow\" x=\"-20%\" y=\"-20%\" width=\"200%\" height=\"200%\" type=\"Shadow\" shadowoffsetx=\"5\" shadowoffsety=\"5\" shadowblur=\"5\" shadowcolor=\"rgba(0,0,0)\">\r\n                            <feOffset result=\"offOut\" in=\"SourceGraphic\" dx=\"0\" dy=\"3\"></feOffset>\r\n                            <feColorMatrix result=\"matrixOut\" in=\"offOut\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0\"></feColorMatrix>\r\n                            <feGaussianBlur result=\"blurOut\" in=\"matrixOut\" stdDeviation=\"2\"></feGaussianBlur>\r\n                            <feBlend in=\"SourceGraphic\" in2=\"blurOut\" mode=\"normal\"></feBlend>\r\n                        </filter>\r\n                        <marker id=\"start-arrow\" viewBox=\"0 -5 10 10\" refX=\"10\" markerWidth=\"3\" markerHeight=\"3\" orient=\"auto\"><path d=\"M10,-5L0,0L10,5\"></path></marker>\r\n                        <marker id=\"end-arrow\" viewBox=\"0 -5 10 10\" refX=\"0\" markerWidth=\"3\" markerHeight=\"3\" orient=\"auto\"><path d=\"M0,-5L10,0L0,5\"></path></marker>\r\n                        <marker id=\"end-arrow-hover\" viewBox=\"0 -5 10 10\" refX=\"0\" markerWidth=\"3\" markerHeight=\"3\" orient=\"auto\"><path d=\"M0,-5L10,0L0,5\"></path></marker>\r\n                        <marker id=\"end-arrow-selected\" viewBox=\"0 -5 10 10\" refX=\"0\" markerWidth=\"3\" markerHeight=\"3\" orient=\"auto\"><path d=\"M0,-5L10,0L0,5\"></path></marker>\r\n                        <radialGradient id=\"linear\" cx=\"50%\" cy=\"50%\" r=\"50%\" fx=\"50%\" fy=\"50%\">\r\n                            <stop offset=\"0%\" style=\"stop-color:rgb(255，255,255);stop-opacity:0\" />\r\n                            <stop offset=\"90%\" style=\"stop-color:rgb(255,255,255);stop-opacity:1\" />\r\n                            <stop offset=\"98%\" style=\"stop-color:rgb(255,255,255);stop-opacity:1\" />\r\n                            <stop offset=\"100%\" style=\"stop-color:rgb(222，222, 222);stop-opacity:1\" />\r\n                        </radialGradient>\r\n                </defs>`;\r\n\r\n    this._svg.insertAdjacentHTML(\"afterbegin\", str);\r\n}","export default function () {\r\n    var svg = this._svgSelection = d3.select(this._svg);\r\n    this._brushSelection = svg.append(\"g\").attr(\"class\", \"brush\");\r\n\r\n    var forceGroup = this._forceGroupSelection = svg.append('g').attr('class', 'force');\r\n    \r\n    forceGroup.append(\"g\").attr(\"class\", \"links\");\r\n    forceGroup.append(\"g\").attr(\"class\", \"paths\");\r\n    forceGroup.append(\"g\").attr(\"class\", \"link-labels\");\r\n    forceGroup.append(\"g\").attr(\"class\", \"nodes\");\r\n}","export default function() {\r\n    var self = this;\r\n    return d3.zoom().scaleExtent([0.1, 2.2])\r\n        .on('start', function () {\r\n        })\r\n        .on(\"zoom\", function(){\r\n            self._transform.call(self);\r\n        })\r\n        .on('end', function () {\r\n        });\r\n}\r\n\r\n","import appendPreDefs from \"./appendPreDefs\";\r\nimport appendPreElement from \"./appendPreElement\";\r\nimport initZoom from \"./zoom\";\r\n\r\nexport default function () {\r\n    this.zoom = initZoom.call(this);\r\n    appendPreElement.call(this);\r\n    appendPreDefs.call(this);\r\n\r\n    d3\r\n        .select(this._svg)\r\n        .classed(\"graph\", true)\r\n        .call(this.zoom);\r\n}","export default function () {\r\n    return window.location.href.split('#')[0];\r\n}","import getAbsUrl from \"../../utils/getAbsUrl\";\r\n\r\nexport default function () {\r\n    var nodes = this._getNodesSelection().data(this._nodes, function (d) {\r\n        return d.id;\r\n    });\r\n\r\n    var g = nodes.enter().append('g')\r\n        .attr(\"transform\", function (node) {\r\n            return node.getTranslate();\r\n        })\r\n        .classed('node', true);\r\n    \r\n    //添加矩形\r\n    g.append(\"rect\")\r\n        .attr(\"width\", this._r)\r\n        .attr(\"height\", this._r)\r\n        .attr(\"filter\", \"url(\" + getAbsUrl() + \"#shadow)\")\r\n        .style(\"fill\", function(Node){ return Node.getColor() });\r\n\r\n\r\n    var textGroup = g.append('svg:foreignObject')\r\n        .attr('class', 'text-group')\r\n        .attr('width', function (Node) {\r\n            return Node.getLabelWidth();\r\n        })\r\n        .attr(\"height\", this._r)\r\n        .style(\"line-height\", this._r + 'px')\r\n        .attr('transform', \"translate(\" + (1 + this._r) + \", 0)\");\r\n    textGroup.append(\"xhtml:div\")\r\n        .attr('title', function (Node) {\r\n            return Node.getLabel();\r\n        })\r\n        .append('xhtml:span')\r\n        .text(function (Node) {\r\n            return Node.getLabel();\r\n        });\r\n}","import getAbsUrl from \"../../utils/getAbsUrl\";\r\n\r\nexport default function () {\r\n    var self = this;\r\n    var linkPaths = this._getLinksSelection().data(this._links, function (d) {\r\n        return d.id;\r\n    });\r\n\r\n    linkPaths.enter()\r\n        .append('path')\r\n        .classed('link-path', true)\r\n        .attr('id', function(Link){ return \"link-path\" + Link.getId()})\r\n        .attr('d', function (Link) {\r\n            return Link.getPath(self._r, true);\r\n        })\r\n        .style('marker-start', function (Link) {\r\n            return Link.getStartArrow();\r\n        })\r\n        .style('marker-end', function (Link) {\r\n            return Link.getEndArrow();\r\n        });\r\n\r\n    //绑定linkData数据到linkLabels\r\n    var linkLabels = this._getLinksLabelSelection().data(this._links, function (Link) { return Link.getId(); });\r\n\r\n    //linksData\r\n\r\n    //按需增加新的LinkLabels(当linksData data > linkPaths element)\r\n    var linkTexts = linkLabels.enter().append('text')\r\n        //.filter(function(d){\r\n        //    return !d.hide;\r\n        //})\r\n        .style(\"pointer-events\", \"none\")\r\n        .classed('link-label', true)\r\n        .attr('id', function (Link) {\r\n            return 'link-label' + Link.getId()\r\n        })\r\n        .attr('dx', function(Link){ return Link.getTextCenter(Link.getPath(self._r)) })\r\n        .attr('dy', 1)\r\n        .attr('font-size', 13);\r\n\r\n\r\n    //根据当前数据重新生成textPath\r\n    linkTexts.append('textPath')\r\n        //.filter(function(d){\r\n        //    return !d.hide;\r\n        //})\r\n        .attr('xlink:href', function (Link) {\r\n            return getAbsUrl() + '#link-path' + Link.getId();\r\n        })\r\n        .style(\"pointer-events\", \"none\").text(function (Link) {\r\n            return Link.getLabel();\r\n        });\r\n\r\n\r\n\r\n    //反转字体，使字体总是朝上，该句放于该函数最后执行，提前会导致问题\r\n    linkTexts.attr('transform', function(Link){\r\n        return Link.getLinkLabelTransform(self._r, self._getCurrentScale());\r\n    });\r\n}","import drawNodes from \"./drawNodes\";\r\nimport drawLinks from \"./drawLinks\";\r\n\r\n\r\nexport default function () {\r\n    drawNodes.call(this);\r\n    drawLinks.call(this);\r\n}","export default function () {\r\n    var self = this;\r\n    //不可移动\r\n    if (!this.movable) {\r\n        //将变换前的translate值赋给变换后的translate值,保持位置不变\r\n        //this.zoom.translate(scope.config.status.translate);\r\n    }\r\n    //不可缩放\r\n    if (!this.zoomable) {\r\n        //this.zoom.scale(scope.config.status.scale);\r\n    }\r\n    \r\n    //Graph._ifShowLabels();\r\n\r\n\r\n    //不缩放text文字内容\r\n    this._getNodesLabelSelection()\r\n        .attr(\"height\", this._r * this._getCurrentScale())\r\n        .style(\"line-height\", this._r * this._getCurrentScale() + \"px\")\r\n        .attr(\"transform\", \"translate(\" + (1 + this._r) + \", 0) scale(\" + 1 / this._getCurrentScale() + \")\");\r\n\r\n    //linkLabels文字不缩放\r\n    this._getLinksLabelSelection().attr(\"transform\", function(Link){\r\n        return Link.getLinkLabelTransform(self._r, self._getCurrentScale());\r\n    });\r\n    //缩放网络图\r\n    this._getForceGroup().attr(\"transform\", \"translate(\" + this._getCurrentTranslate() + \") scale(\" + this._getCurrentScale() + \")\");\r\n\r\n    // if (Graph.brush) {\r\n    //     //brush框选组件随之缩放\r\n    //     Graph.brush.attr(\"transform\", \"translate(\" + this._getCurrentTranslate() + \") scale(\" + this._getCurrentScale() + \")\");\r\n    // }\r\n    //将状态记录在config中\r\n    // scope.config.status.translate = Graph.zoom.translate();\r\n    // scope.config.status.scale = Graph.zoom.scale();\r\n}","import select from \"../utils/select\";\r\nimport width from \"./width\";\r\nimport height from \"./height\";\r\nimport render from \"./render\";\r\nimport data from \"./data\";\r\nimport nodes from \"./nodes\";\r\nimport addNode from \"./addNode\";\r\nimport hasNode from \"./hasNode\";\r\nimport clearNodes from \"./clearNodes\";\r\nimport links from \"./links\";\r\nimport addLink from \"./addLink\";\r\nimport hasLink from \"./hasLink\";\r\nimport clearLinks from \"./clearLinks\";\r\nimport init from \"./init/init\";\r\nimport draw from \"./draw/index\";\r\nimport transform from \"./transform\";\r\n\r\n\r\nfunction Graph(selector, config) {\r\n    if(config === undefined) config = {};\r\n\r\n    this._svg = select(selector);\r\n\r\n    this._r = config.r || 30;\r\n    this._movable = config.movable || false;\r\n    this._zoomable = config.zoomable || false;\r\n    \r\n    this._nodes = [];\r\n    this._links = [];\r\n}\r\n\r\nGraph.prototype = {\r\n    constructor: Graph,\r\n    width: width,\r\n    height: height,\r\n    render: render,\r\n    data: data,\r\n    nodes: nodes,\r\n    addNode: addNode,\r\n    clearNodes: clearNodes,\r\n    hasNode: hasNode,\r\n    links: links,\r\n    addLink: addLink,\r\n    hasLink: hasLink,\r\n    clearLinks: clearLinks,\r\n    _init: init,\r\n    _draw: draw,\r\n    _transform: transform,\r\n    _getCurrentScale: function(){\r\n        return d3.zoomTransform(this._svg).k;\r\n    },\r\n    _getCurrentTranslate: function(){\r\n        var transform = d3.zoomTransform(this._svg);\r\n        return [transform.x, transform.y];\r\n    },\r\n    _getNodesSelection: function(){\r\n        return this._svgSelection.select('.nodes').selectAll(\"g.node\");\r\n    },\r\n    _getNodesLabelSelection: function(){\r\n        return this._getNodesSelection().selectAll('.text-group');\r\n    },\r\n    _getLinksSelection: function(){\r\n        return this._svgSelection.select('.paths').selectAll(\"path\");\r\n    },\r\n    _getLinksLabelSelection: function(){\r\n        return this._svgSelection.select('g.link-labels').selectAll('text');\r\n    },\r\n    _getForceGroup: function(){\r\n        return this._forceGroupSelection;\r\n    }\r\n};\r\n\r\nexport default function (selector) {\r\n    return new Graph(selector);\r\n}"],"names":["selector","document","querySelector","width","arguments","length","_width","height","_height","_init","_draw","data","_data","nodes","cover","Array","isArray","_nodes","clearNodes","forEach","v","addNode","str","len","i","charAt","Node","id","label","x","y","prototype","constructor","getId","getLabelWidth","getStrLen","getLabel","combinedLabel","getColor","color","getTranslate","obj","node","hasNode","push","ids","map","d","indexOf","links","_links","clearLinks","addLink","Nodes","filter","source","undefined","target","Xs","Ys","Xd","Yd","offsetLength","offsetScale","d3","scaleLinear","domain","range","clamp","s","l","Math","sqrt","sin","cos","DIRECTION","NONE","FROM","TO","DOUBLE","r","asSvgPathAttr","offset","getOffsetCoordinate","originalLinks","halfR","direction","window","location","href","split","pathCoord","abs","z","charLength","scaleFactor","coord","getPath","rx","ry","Link","src","dst","getNodeById","hasST","getStartArrow","getEndArrow","getTextCenter","getLinkLabelTransform","linkTypeName","link","hasLink","_svg","insertAdjacentHTML","svg","_svgSelection","select","_brushSelection","append","attr","forceGroup","_forceGroupSelection","self","zoom","scaleExtent","on","_transform","call","initZoom","appendPreElement","appendPreDefs","classed","_getNodesSelection","g","enter","_r","getAbsUrl","style","textGroup","text","linkPaths","_getLinksSelection","linkLabels","_getLinksLabelSelection","linkTexts","_getCurrentScale","drawNodes","drawLinks","movable","zoomable","_getNodesLabelSelection","_getForceGroup","_getCurrentTranslate","Graph","config","_movable","_zoomable","render","init","draw","transform","zoomTransform","k","selectAll"],"mappings":"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"}