{"version":3,"file":"g3.js","sources":["../../src/utils/select.js","../../src/graph/CONSTANT.js","../../src/graph/render.js","../../src/utils/toArray.js","../../src/utils/getStrLen.js","../../src/graph/node/attributes.js","../../src/graph/node/nudge.js","../../src/graph/link/hasST.js","../../src/utils/getOffsetCoordinate.js","../../src/graph/link/display.js","../../src/graph/link/attributes.js","../../src/graph/link/remove.js","../../src/utils/colorMixer.js","../../src/utils/deriveConcat.js","../../src/utils/deriveAverage.js","../../src/utils/deriveDirection.js","../../src/utils/deriveLinkFromLinks.js","../../src/graph/helper/mergedBy.js","../../src/graph/link/merge.js","../../src/graph/link/getHomoLinks.js","../../src/graph/link/L2N_N2L.js","../../src/graph/link/getJSON.js","../../src/graph/link/index.js","../../src/utils/deriveLinkFromLNL.js","../../src/graph/helper/transformedBy.js","../../src/graph/node/NtoL.js","../../src/graph/node/getConnectedLinks.js","../../src/graph/node/remove.js","../../src/graph/node/ungroup.js","../../src/graph/node/getJSON.js","../../src/graph/node/index.js","../../src/graph/data.js","../../src/utils/getIds.js","../../src/utils/filterBy.js","../../src/graph/getNodes.js","../../src/graph/select_deselect.js","../../src/graph/helper/groupedBy.js","../../src/graph/buildReference.js","../../src/graph/getLinks.js","../../src/graph/init/appendPreDefs.js","../../src/graph/init/appendPreElement.js","../../src/graph/init/zoom.js","../../src/graph/init/brush.js","../../src/graph/init/dragNodes.js","../../src/graph/init/init.js","../../src/utils/getAbsUrl.js","../../src/graph/draw/drawNodesSvg.js","../../src/graph/draw/drawLinksSvg.js","../../src/graph/draw/drawCanvas.js","../../src/graph/draw/index.js","../../src/graph/zoomed.js","../../src/graph/transform.js","../../src/graph/keyboard.js","../../src/utils/deriveNodeFromNodes.js","../../src/graph/group.js","../../src/graph/draged.js","../../src/graph/defaultConfig.js","../../src/utils/findShortestPath.js","../../src/graph/findShortestPath.js","../../src/graph/layout.js","../../src/graph/getJSON.js","../../src/graph/index.js","../../src/utils/filterById.js","../../src/utils/parseHTML.js","../../src/utils/safeExecute.js","../../src/utils/index.js"],"sourcesContent":["export default function (selector) {\r\n    return typeof selector === \"string\"? document.querySelector(selector): selector;\r\n}","const DIRECTION = {\r\n    NONE: 0,\r\n    S2D: 1,\r\n    D2S: 2,\r\n    DOUBLE: 3\r\n};\r\n\r\nconst LINK_REMOVE_TYPE = {\r\n    UNMERGE: 1,\r\n    L2N: 2\r\n};\r\nconst REMOVE_TYPE = {\r\n    UNGROUP: 1\r\n};\r\n\r\nconst BUILD_REF_TYPE = {\r\n    NODE: 1,\r\n    LINK: 2\r\n};\r\n\r\nconst RENDER_TYPE = {\r\n    FORCEDRAW: \"FORCEDRAW\",\r\n    TRANSFORM: \"TRANSFORM\",\r\n    SELECT: \"SELECT\",\r\n    NUDGE: \"NUDGE\",\r\n    IMMEDIATELY: \"IMMEDIATELY\"\r\n};\r\n\r\nexport {DIRECTION, LINK_REMOVE_TYPE, REMOVE_TYPE, BUILD_REF_TYPE, RENDER_TYPE};","import {RENDER_TYPE} from \"./CONSTANT\";\r\n\r\nexport default function (renderType, callback) {\r\n    if(!this.config.ifRender) return this;\r\n\r\n    var canvasType = this._canvas.nodeName;\r\n\r\n    if(canvasType === 'svg'){\r\n        this._init();\r\n    }\r\n\r\n    var self = this;\r\n    clearTimeout(this._renderDelay);\r\n    \r\n    if(renderType === RENDER_TYPE.IMMEDIATELY) draw();\r\n    else this._renderDelay = setTimeout(draw, 0);\r\n    \r\n    return this;\r\n    \r\n    function draw(){\r\n        self._draw(renderType, canvasType);\r\n        if(callback instanceof Function) callback();\r\n    }\r\n}\r\n","export default function (maybeArr) {\r\n    if(!Array.isArray(maybeArr)) maybeArr = [maybeArr];\r\n    return maybeArr;\r\n}","//中文为2长度，非中文为1\r\n\r\nexport default function (str) {\r\n    var len = 0;\r\n    if (typeof str !== \"string\") {\r\n        str = str.toString();\r\n    }\r\n    for (var i = 0; i < str.length; i++) {\r\n        if (str.charAt(i) > '~') {\r\n            len += 2;\r\n        } else {\r\n            len++;\r\n        }\r\n    }\r\n    return len;\r\n};","function color(color) {\r\n    if(!arguments.length) return this._color || \"#123456\";\r\n\r\n    this._color = color;\r\n    this.graph.render();\r\n\r\n    return this;\r\n}\r\n\r\nfunction icon(icon) {\r\n    if(!arguments.length) return this._icon;\r\n    \r\n    this._icon = icon;\r\n    this.graph.render();\r\n    \r\n    return this;\r\n}\r\n\r\nfunction mugshot(mugshot) {\r\n    if(!arguments.length) return this._mugshot;\r\n    \r\n    this._mugshot = mugshot;\r\n    this.graph.render();\r\n    \r\n    return this;\r\n}\r\n\r\nfunction grouped(grouped) {\r\n    if(!arguments.length) return this._grouped === undefined? false : this._grouped;\r\n    \r\n    this._grouped = grouped;\r\n    \r\n    return this;\r\n}\r\n\r\nfunction label(label) {\r\n    if(!arguments.length) return this._label || \"\";\r\n    \r\n    this._label = label;\r\n    this.graph.render();\r\n    \r\n    return this;\r\n}\r\n\r\nfunction selected(selected) {\r\n    if(!arguments.length) return this._selected;\r\n    this._selected = selected;\r\n    \r\n    this.graph.render();\r\n    \r\n    return this;\r\n}\r\n\r\nfunction radius(radius) {\r\n    if(!arguments.length) return this._radius;\r\n    \r\n    this._radius = radius;\r\n    this.graph.render();\r\n    \r\n    return this;\r\n}\r\n\r\nfunction transformed(transformed) {\r\n    if(!arguments.length) return this._transformed || false;\r\n    \r\n    this._transformed = transformed;\r\n    \r\n    return this;\r\n}\r\n\r\nfunction getX() {\r\n    return this.x;\r\n}\r\n\r\nfunction getY() {\r\n    return this.y;\r\n}\r\n\r\nexport {color, icon, mugshot, grouped, label, selected, radius, transformed, getX, getY};","export default function (nudgeX, nudgeY) {\r\n    if(!this.graph.config.dragable) return;\r\n    \r\n    this.x += nudgeX;\r\n    this.y += nudgeY;\r\n\r\n    return this;\r\n}","//Link has source and target Node in _nodes\r\nexport default function () {\r\n    return (this.source !== undefined) && (this.target !== undefined);\r\n}","export default function (Sx, Sy, Tx, Ty, offsetS, offsetT) {\r\n    var l = Math.sqrt((Tx - Sx) * (Tx - Sx) + (Ty - Sy) * (Ty - Sy));\r\n    if(l === 0) l = 1;\r\n\r\n    var sin = (Ty - Sy) / l;\r\n    var cos = (Tx - Sx) / l;\r\n    \r\n    return {\r\n        Sx: Sx + offsetS * cos,\r\n        Sy: Sy + offsetS * sin,\r\n        Tx: Tx - offsetT * cos,\r\n        Ty: Ty - offsetT * sin\r\n    }\r\n}","import {DIRECTION} from \"../CONSTANT\";\r\nimport getStrLen from \"../../utils/getStrLen\";\r\nimport getOffsetCoordinate from \"../../utils/getOffsetCoordinate\";\r\n\r\nvar absUrl = window.location.href.split('#')[0];\r\n\r\nfunction getStartArrow(status) {\r\n    status = status? (\"-\" + status): \"\";\r\n    if(this.selected()) status = \"-selected\";\r\n    \r\n    if(this.direction() === DIRECTION.D2S || this.direction() === DIRECTION.DOUBLE)\r\n        return \"url(\" + absUrl + \"#start-arrow\"+ status +\")\";\r\n    else\r\n        return \"\";\r\n}\r\n\r\nfunction getEndArrow (status) {\r\n    status = status? (\"-\" + status): \"\";\r\n    if(this.selected()) status = \"-selected\";\r\n    \r\n    if(this.direction() === DIRECTION.S2D || this.direction() === DIRECTION.DOUBLE)\r\n        return \"url(\" + absUrl + \"#end-arrow\"+ status +\")\";\r\n    else\r\n        return \"\";\r\n}\r\n\r\nfunction getTextOffset() {\r\n    var self = this;\r\n    var coord = this.getCoordination(true);\r\n    \r\n    var x = Math.abs(coord.Tx - coord.Sx);\r\n    var y = Math.abs(coord.Ty - coord.Sy);\r\n    var z = Math.sqrt(x * x + y * y);\r\n    \r\n    var charLength = getStrLen(this.label()) * 6.6 / 2;\r\n    \r\n    var dx = z / 2 - charLength;\r\n    \r\n    return dx + textLeftOffset();\r\n    \r\n    function textLeftOffset(){\r\n        if((self.hasTargetArrow() && !self.hasSourceArrow()) || (!self.hasTargetArrow() && !self.hasSourceArrow())) return self.source.radius();\r\n        //else if(!self.hasTargetArrow() && self.hasSourceArrow()) return self.target.radius();\r\n        else return 0;\r\n    }\r\n}\r\n\r\n\r\nfunction getLinkLabelTransform(scaleFactor) {\r\n    var coord = this.getCoordination(true);\r\n    var rx = (coord.Sx + coord.Tx) / 2;\r\n    var ry = (coord.Sy + coord.Ty) / 2;\r\n    \r\n    \r\n    if (coord.Tx < coord.Sx) {\r\n        return 'rotate(180 ' + rx + ' ' + ry + ') translate(' + rx + ' ' + ry + ') scale(' + 1 / scaleFactor + ') translate(' + -rx + ' ' + -ry + ')';\r\n        //先移动原点到字体位置，然后进行缩放，在将原点移回到初始位置\r\n    } else {\r\n        return 'translate(' + rx + ' ' + ry + ') scale(' + 1 / scaleFactor + ') translate(' + -rx + ' ' + -ry + ')';\r\n    }\r\n}\r\n\r\n//Link coordination is Node center's coordination or coordination where arrow placed, if any.\r\nfunction getCoordination(forText) {\r\n    \r\n    var sourceOffset = this.source.radius();\r\n    var targetOffset = this.target.radius();\r\n    var arrowLength = this.width() * 3;\r\n    \r\n    var Sx = this.source.getX(),\r\n        Sy = this.source.getY(),\r\n        Tx = this.target.getX(),\r\n        Ty = this.target.getY();\r\n    \r\n    \r\n    if(this.hasSourceArrow()) sourceOffset += arrowLength;\r\n    if(this.hasTargetArrow()) targetOffset += arrowLength;\r\n    \r\n    var offset = getOffsetCoordinate(Sx, Sy, Tx, Ty, sourceOffset, targetOffset);\r\n    \r\n    if(this.hasSourceArrow()){\r\n        Sx = offset.Sx;\r\n        Sy = offset.Sy;\r\n    }\r\n    if(this.hasTargetArrow()){\r\n        Tx = offset.Tx;\r\n        Ty = offset.Ty;\r\n    }\r\n    \r\n    if(forText){\r\n        Sx = offset.Sx;\r\n        Sy = offset.Sy;\r\n        Tx = offset.Tx;\r\n        Ty = offset.Ty;\r\n    }\r\n    \r\n    return {\r\n        Sx: Sx,\r\n        Sy: Sy,\r\n        Tx: Tx,\r\n        Ty: Ty\r\n    };\r\n}\r\n\r\nexport {getStartArrow, getEndArrow, getTextOffset, getLinkLabelTransform, getCoordination};\r\n","function color(color) {\r\n    if(!arguments.length) return this._color;\r\n\r\n    this._color = color;\r\n    this.graph.render();\r\n\r\n    return this;\r\n}\r\n\r\nfunction direction(direction) {\r\n    if(!arguments.length) return this._direction;\r\n    \r\n    this._direction = direction;\r\n    this.graph.render();\r\n    \r\n    return this;\r\n}\r\n\r\nfunction label(label) {\r\n    if(!arguments.length) return this._label;\r\n    \r\n    this._label = label;\r\n    this.graph.render();\r\n    \r\n    return this;\r\n}\r\n\r\nfunction merged(merged) {\r\n    if(!arguments.length) return this._merged === undefined? false : this._merged;\r\n    \r\n    this._merged = merged;\r\n    \r\n    return this;\r\n}\r\n\r\nfunction selected(selected) {\r\n    if(!arguments.length) return this._selected;\r\n    this._selected = selected;\r\n    \r\n    this.graph.render();\r\n    \r\n    return this;\r\n}\r\n\r\nfunction width(width) {\r\n    if(!arguments.length) return this._width;\r\n    \r\n    this._width = width;\r\n    this.graph.render();\r\n    \r\n    return this;\r\n}\r\n\r\nfunction grouped(grouped) {\r\n    if(!arguments.length) return this._grouped === undefined? false : this._grouped;\r\n    \r\n    this._grouped = grouped;\r\n    \r\n    return this;\r\n}\r\n\r\nfunction transformed(transformed) {\r\n    if(!arguments.length) return this._transformed || false;\r\n    \r\n    this._transformed = transformed;\r\n    \r\n    return this;\r\n}\r\nexport {color, direction, label, merged, selected, width, grouped, transformed};\r\n","import {LINK_REMOVE_TYPE} from \"../CONSTANT\";\r\n\r\nexport default function (type) {\r\n    delete this.graph._linksHash[this.id];\r\n    this.graph._links.splice(this.graph._links.indexOf(this), 1);\r\n\r\n    this.graph.render();\r\n    \r\n    if(this.mergedBy && (type !== LINK_REMOVE_TYPE.UNMERGE) ) this.mergedBy.remove();\r\n    if(this.transformedBy && (type !== LINK_REMOVE_TYPE.L2N)) this.transformedBy.remove();\r\n\r\n    return this;\r\n}","\r\n// Real Life Color Mixer by Camilo Tapia (github.com/Camme)\r\n// Emulate color mixing as if you where mixing real life colors, ie substractive colors\r\n//\r\n// Usage:\r\n//\r\n// RLColorMixer.mixColorS(arrayOfColors);\r\n// where arrayOFColos is an array of hex rgb colors ['#ff0000', '#00ff00'] or an array with the amoutn of each color\r\n// [{color: '#ff0000', parts: 10}, {color: '#00ff00', parts: 2}].\r\n// or a mizture of the two.\r\n//\r\n// You can also snap to the nearest color in an array of hex rgb colors:\r\n// RLColorMixer.findNearest(orgColorinHex, listOfColors);\r\n//\r\n// Example:\r\n// RLColorMixer.findNearest('#fff000', ['#ff0000', '#ff0f00']);\r\n//\r\n\r\nvar defaults = { result: \"ryb\", hex: true };\r\n\r\nfunction mix() {\r\n\r\n\r\n    var options = JSON.parse(JSON.stringify(defaults));\r\n\r\n    // check if the last arguments is an options object\r\n    var lastObject = arguments[arguments.length - 1];\r\n    if (typeof lastObject == \"object\" && lastObject.constructor != Array) {\r\n        var customOptions = lastObject;\r\n        options.result = customOptions.result || options.result;\r\n        options.hex = typeof customOptions.hex != \"undefined\" ? customOptions.hex : options.hex;\r\n        arguments.length--;\r\n    }\r\n\r\n    var colors = [];\r\n\r\n    // check if we got an array, but not if the array is just a representation of hex\r\n    if (arguments[0].constructor == Array && typeof arguments[0][0] != \"number\") {\r\n        colors = arguments[0];\r\n    } else {\r\n        colors = arguments;\r\n    }\r\n\r\n    //normalize, ie make sure all colors are in the same format\r\n    var normalized = [];\r\n    for(var i = 0, ii = colors.length; i < ii; i++){\r\n        var color = colors[i];\r\n        if (typeof color == \"string\") {\r\n            color = hexToArray(color);\r\n        }\r\n        normalized.push(color);\r\n    }\r\n\r\n    var newColor = mixRYB(normalized);\r\n\r\n    if (options.result == \"rgb\") {\r\n        newColor = rybToRgb(newColor);\r\n    }\r\n\r\n    if (options.hex) {\r\n        newColor = arrayToHex(newColor);\r\n    }\r\n\r\n    return newColor;\r\n\r\n}\r\n\r\nfunction mixRYB(colors) {\r\n\r\n    var newR = 0;\r\n    var newY = 0;\r\n    var newB = 0;\r\n\r\n    var total = 0;\r\n\r\n    var maxR = 0;\r\n    var maxY = 0;\r\n    var maxB = 0;\r\n\r\n    for(var i = 0, ii = colors.length; i < ii; i++){\r\n\r\n        var color = colors[i];\r\n\r\n        newR += color[0];\r\n        newY += color[1];\r\n        newB += color[2];\r\n\r\n    }\r\n\r\n    // Calculate the max of all sums for each color\r\n    var max = Math.max(newR, newY, newB);\r\n\r\n    // Now calculate each channel as a percentage of the max\r\n    var totalR = Math.floor(newR / max * 255);\r\n    var totalY = Math.floor(newY / max * 255);\r\n    var totalB = Math.floor(newB / max * 255);\r\n\r\n    return [totalR, totalY, totalB];\r\n\r\n}\r\n\r\nfunction findNearest(color, list) {\r\n\r\n    var listCopy = list.concat([]);\r\n\r\n    listCopy.sort(function(c1, c2) {\r\n\r\n        var rgb1 = hexToArray(c1);\r\n        var rgb2 = hexToArray(c2);\r\n        var c = hexToArray(color);\r\n\r\n        rgb1 = rgb2hsv(rgb1);\r\n        rgb2 = rgb2hsv(rgb2);\r\n        c = rgb2hsv(c);\r\n\r\n        var euclideanDistance1 = Math.sqrt(Math.pow(c[0] - rgb1[0], 2) + Math.pow(c[1] - rgb1[1], 2) + Math.pow(c[2] - rgb1[2], 2));\r\n        var euclideanDistance2 = Math.sqrt(Math.pow(c[0] - rgb2[0], 2) + Math.pow(c[1] - rgb2[1], 2) + Math.pow(c[2] - rgb2[2], 2));\r\n        return euclideanDistance1 - euclideanDistance2;\r\n\r\n    });\r\n\r\n    return listCopy[0].replace(\"#\", \"\");\r\n\r\n}\r\n\r\nfunction hexToArray(hex) {\r\n    var hex = hex.replace(\"#\", '');\r\n    var r = parseInt(hex.substr(0, 2), 16);\r\n    var g = parseInt(hex.substr(2, 2), 16);\r\n    var b = parseInt(hex.substr(4, 2), 16);\r\n    return [r, g, b];\r\n}\r\n\r\n\r\n// taken from the INTERNET\r\nfunction rgb2hsv (color) {\r\n    var rr, gg, bb,\r\n        r = color[0] / 255,\r\n        g = color[1] / 255,\r\n        b = color[2] / 255,\r\n        h, s,\r\n        v = Math.max(r, g, b),\r\n        diff = v - Math.min(r, g, b),\r\n        diffc = function(c){\r\n            return (v - c) / 6 / diff + 1 / 2;\r\n        };\r\n\r\n    if (diff == 0) {\r\n        h = s = 0;\r\n    }\r\n    else {\r\n        s = diff / v;\r\n        rr = diffc(r);\r\n        gg = diffc(g);\r\n        bb = diffc(b);\r\n\r\n        if (r === v) {\r\n            h = bb - gg;\r\n        }\r\n        else if (g === v) {\r\n            h = (1 / 3) + rr - bb;\r\n        }\r\n        else if (b === v) {\r\n            h = (2 / 3) + gg - rr;\r\n        }\r\n        if (h < 0) {\r\n            h += 1;\r\n        }\r\n        else if (h > 1) {\r\n            h -= 1;\r\n        }\r\n    }\r\n    return [\r\n        Math.round(h * 360),\r\n        Math.round(s * 100),\r\n        Math.round(v * 100)\r\n    ];\r\n}\r\n\r\nfunction arrayToHex(rgbArray) {\r\n    var rHex = Math.round(rgbArray[0]).toString(16); rHex = rHex.length == 1 ? \"0\" + rHex : rHex;\r\n    var gHex = Math.round(rgbArray[1]).toString(16); gHex = gHex.length == 1 ? \"0\" + gHex : gHex;\r\n    var bHex = Math.round(rgbArray[2]).toString(16); bHex = bHex.length == 1 ? \"0\" + bHex : bHex;\r\n    return rHex + gHex + bHex;;\r\n}\r\n\r\nfunction cubicInt(t, A, B){\r\n    var weight = t*t*(3-2*t);\r\n    return A + weight*(B-A);\r\n}\r\n\r\nfunction getR(iR, iY, iB) {\r\n    // red\r\n    var x0 = cubicInt(iB, 1.0, 0.163);\r\n    var x1 = cubicInt(iB, 1.0, 0.0);\r\n    var x2 = cubicInt(iB, 1.0, 0.5);\r\n    var x3 = cubicInt(iB, 1.0, 0.2);\r\n    var y0 = cubicInt(iY, x0, x1);\r\n    var y1 = cubicInt(iY, x2, x3);\r\n    return Math.ceil (255 * cubicInt(iR, y0, y1));\r\n}\r\n\r\nfunction getG(iR, iY, iB) {\r\n    // green\r\n    var x0 = cubicInt(iB, 1.0, 0.373);\r\n    var x1 = cubicInt(iB, 1.0, 0.66);\r\n    var x2 = cubicInt(iB, 0.0, 0.0);\r\n    var x3 = cubicInt(iB, 0.5, 0.094);\r\n    var y0 = cubicInt(iY, x0, x1);\r\n    var y1 = cubicInt(iY, x2, x3);\r\n    return Math.ceil (255 * cubicInt(iR, y0, y1));\r\n}\r\n\r\nfunction getB(iR, iY, iB) {\r\n    // blue\r\n    var x0 = cubicInt(iB, 1.0, 0.6);\r\n    var x1 = cubicInt(iB, 0.0, 0.2);\r\n    var x2 = cubicInt(iB, 0.0, 0.5);\r\n    var x3 = cubicInt(iB, 0.0, 0.0);\r\n    var y0 = cubicInt(iY, x0, x1);\r\n    var y1 = cubicInt(iY, x2, x3);\r\n    return Math.ceil (255 * cubicInt(iR, y0, y1));\r\n}\r\n\r\nfunction rybToRgb(color, options){\r\n\r\n    if (typeof color == \"string\") {\r\n        color = hexToArray(color);\r\n    }\r\n\r\n    var R = color[0] / 255;\r\n    var Y = color[1] / 255;\r\n    var B = color[2] / 255;\r\n    var R1 = getR(R,Y,B) ;\r\n    var G1 = getG(R,Y,B) ;\r\n    var B1 = getB(R,Y,B) ;\r\n    var ret = [ R1, G1, B1 ];\r\n\r\n    if (options && options.hex == true) {\r\n        ret = arrayToHex(ret);\r\n    }\r\n\r\n    return ret;\r\n}\r\n\r\nfunction rybToRgbHex(color) {\r\n    var rgb = rybToRgb(color);\r\n    return arrayToHex(rgb);\r\n}\r\n\r\n/**\r\n * Return the complementary color values for a given color.\r\n * You must also give it the upper limit of the color values, typically 255 for\r\n * GUIs, 1.0 for OpenGL.\r\n */\r\nfunction complimentary(color, limit) {\r\n    var r = color[0], g = color[1], b = color[2];\r\n    limit = limit || 255;\r\n    return [limit - r, limit - g, limit - b];\r\n}\r\n\r\n\r\n//  colorMixer.mix = mix;\r\n//  colorMixer.rybToRgb = rybToRgb;\r\n//  colorMixer.findNearest = findNearest;\r\n\r\nexport default {\r\n    mix: mix\r\n};","export default function(key, objArray){\r\n    return objArray.map(function(obj){\r\n        return obj[key] instanceof Function ? obj[key]() : obj[key];\r\n    }).join(\"&\");\r\n}","export default function average(key, objArray){\r\n    return objArray.reduce(function(p, obj){\r\n            return p + (obj[key] instanceof Function ? obj[key]() : obj[key]);\r\n        }, 0) / objArray.length;\r\n}","import {DIRECTION} from \"../graph/CONSTANT\";\r\n\r\nexport default function direction(Links){\r\n    return Links.reduce(function(p, Link){\r\n        if(p === DIRECTION.NONE) return Link.direction();\r\n        if(Link.direction() === DIRECTION.NONE) return p;\r\n        if(p === DIRECTION.DOUBLE || Link.direction() === DIRECTION.DOUBLE) return DIRECTION.DOUBLE;\r\n        if((p === DIRECTION.S2D && Link.direction() === DIRECTION.D2S) || (p === DIRECTION.D2S && Link.direction() === DIRECTION.S2D)) return DIRECTION.DOUBLE;\r\n        if(p === Link.direction()) return p;\r\n    }, DIRECTION.NONE);\r\n}","import colorMixer from \"../utils/colorMixer\";\r\nimport concat from \"../utils/deriveConcat\";\r\nimport average from \"../utils/deriveAverage\";\r\nimport direction from \"../utils/deriveDirection\";\r\n\r\nexport default function (Links) {\r\n\r\n    var obj = {};\r\n    obj.id = \"merged:\" + concat(\"id\", Links);\r\n    obj.label = concat(\"label\", Links);\r\n    obj.width = average('width', Links);\r\n    obj.src = Links[0].src;\r\n    obj.dst = Links[0].dst;\r\n    obj.color = \"#\"+  colorMixer.mix(Links.map(function(Link){return Link.color()}));\r\n    obj.direction = direction(Links);\r\n\r\n\r\n    \r\n    return obj;\r\n}\r\n","export default function MergedBy(Links) {\r\n    Links.forEach(function(Link){\r\n        Link.merged(true);\r\n    });\r\n    \r\n    this.links = Links;\r\n}\r\n\r\nMergedBy.prototype = {\r\n    constructor: MergedBy,\r\n    remove: remove,\r\n    unmerge: unmerge\r\n};\r\n\r\nfunction remove (){\r\n    this.links.forEach(function(Link){Link.remove();});\r\n}\r\n\r\nfunction unmerge (){\r\n    this.links.forEach(function(Link){\r\n        Link.merged(false);\r\n        Link.NtoL();\r\n    });\r\n}","import deriveLinkFromLinks from \"../../utils/deriveLinkFromLinks\";\r\nimport MergedBy from \"../helper/mergedBy\";\r\nimport {LINK_REMOVE_TYPE} from \"../CONSTANT\";\r\n\r\nfunction merge() {\r\n    //每个Link本身只能被合并一次，也意味着只能存在于唯一一个Link的mergedBy属性中，for idempotent, 幂等性\r\n    var toMergedLinks = this.getHomoLinks().filter(function(Link){ return !Link.merged() && !Link.grouped()});\r\n\r\n    if(toMergedLinks.length <= 1) return;\r\n    \r\n    var linkObj = deriveLinkFromLinks(toMergedLinks);\r\n    linkObj.mergedBy = new MergedBy(toMergedLinks);\r\n\r\n    var Link = this.graph._addLink(linkObj);\r\n\r\n    Link.NtoL();\r\n\r\n    this.graph.render();\r\n\r\n    return this;\r\n}\r\n\r\nfunction flattenMerge() {\r\n    this.getHomoLinks().forEach(function(Link){\r\n        Link.unmerge();\r\n    });\r\n    \r\n    this.merge();\r\n}\r\n\r\nfunction unmerge() {\r\n    if(!this.mergedBy) return;\r\n    \r\n    this.remove(LINK_REMOVE_TYPE.UNMERGE);\r\n    \r\n    this.mergedBy.unmerge();\r\n    \r\n    return this;\r\n}\r\n\r\nexport {merge, flattenMerge, unmerge};","export default function () {\r\n    return this.graph._links.filter(function(Link){\r\n        return (Link.source === this.source || Link.source === this.target) &&\r\n                (Link.target === this.source || Link.target === this.target);\r\n    }, this) || [];\r\n}","import {LINK_REMOVE_TYPE} from \"../CONSTANT\";\r\n\r\nfunction LtoN() {\r\n    if(!this.transformedBy) return;\r\n    \r\n    this.transformedBy.untransform();\r\n\r\n    this.remove(LINK_REMOVE_TYPE.L2N);\r\n\r\n    return this;\r\n}\r\n\r\nfunction NtoL() {\r\n    if(!this.transformed() && this.source.transformed()) this.source.NtoL();\r\n    if(!this.transformed() && this.target.transformed()) this.target.NtoL();\r\n}\r\n\r\nexport {LtoN, NtoL};","export default function () {\r\n    var exceptArr = ['_element', '_pathEle', '_labelEle', '_needMerged', '_needTransformed', 'graph', 'source', 'target'];\r\n    var json = {};\r\n    for (var prop in this) {\r\n        if (prop === 'mergedBy') {\r\n            json[prop] = {links: []};\r\n            this[prop].links.map(function(Link){ json[prop].links.push(Link.id);});\r\n            \r\n        } else if(prop === 'transformedBy'){\r\n            json[prop] = {node: this[prop].node.id, links: []};\r\n            this[prop].links.map(function(Link){ json[prop].links.push(Link.id);});\r\n            \r\n        } else if (this.hasOwnProperty(prop) && (exceptArr.indexOf(prop) === -1)) {\r\n            var jsonProp = prop.replace(/_/, \"\");\r\n            json[jsonProp] = this[prop];\r\n        }\r\n    }\r\n    \r\n    return json;\r\n}","import hasST from \"./hasST\";\r\nimport {getStartArrow, getEndArrow, getTextOffset, getLinkLabelTransform, getCoordination} from \"./display\";\r\nimport {color, direction, label, merged, selected, width, grouped, transformed} from \"./attributes\";\r\nimport {DIRECTION} from \"../CONSTANT\";\r\nimport remove from \"./remove\";\r\nimport {merge, flattenMerge, unmerge} from \"./merge\";\r\nimport getHomoLinks from \"./getHomoLinks\";\r\nimport {LtoN, NtoL} from \"./L2N_N2L\";\r\nimport getJSON from \"./getJSON\";\r\n\r\nexport default function Link(data, graph) {\r\n    this.graph = graph;\r\n    this.id = data.id;\r\n    this._label = data.label || \"\";\r\n    this._width = data.width || (graph && graph.config.linkWidth);\r\n    this._color = data.color || (graph && graph.config.linkColor);\r\n    this._selected = data.selected || false;\r\n    this.src = data.src;\r\n    this.dst = data.dst;\r\n    this._direction = data.direction === undefined? 1: data.direction;//0: none, 1: from, 2: to, 3 double\r\n\r\n    this.source = graph && this.graph._nodesHash[this.src];\r\n    this.target = graph && this.graph._nodesHash[this.dst];\r\n    \r\n    if(data.grouped) this._grouped = data.grouped;\r\n    if(data.merged) this._merged = data.merged;\r\n    //this._needMerged = data.merged || false;\r\n\r\n    if(data.mergedBy) this.mergedBy = data.mergedBy;\r\n    if(data.transformedBy) this.transformedBy = data.transformedBy;\r\n    \r\n    for (var prop in data) {\r\n        if (data.hasOwnProperty(prop) && this[prop] === undefined) this[prop] = data[prop];\r\n    }\r\n}\r\n\r\n\r\nLink.prototype = {\r\n    constructor: Link,\r\n    hasST: hasST,\r\n    transformed: transformed,\r\n    getCoordination: getCoordination,\r\n    getStartArrow: getStartArrow,\r\n    getEndArrow: getEndArrow,\r\n    getTextOffset: getTextOffset,\r\n    getLinkLabelTransform: getLinkLabelTransform,\r\n    getJSON: getJSON,\r\n    label: label,\r\n    width: width,\r\n    selected: selected,\r\n    remove: remove,\r\n    merged: merged,\r\n    merge: merge,\r\n    flattenMerge: flattenMerge,\r\n    unmerge: unmerge,\r\n    grouped: grouped,\r\n    LtoN: LtoN,\r\n    NtoL: NtoL,\r\n    color: color,\r\n    direction: direction,\r\n    getHomoLinks: getHomoLinks,\r\n    hasSourceArrow: function(){\r\n        return this.direction() === DIRECTION.D2S || this.direction() === DIRECTION.DOUBLE;\r\n    },\r\n    hasTargetArrow: function(){\r\n        return this.direction() === DIRECTION.S2D || this.direction() === DIRECTION.DOUBLE;\r\n    }\r\n};","import Link from \"../graph/link/index\";\r\nimport deriveLinkFromLinks from \"./deriveLinkFromLinks\";\r\nimport direction from \"../utils/deriveDirection\";\r\n\r\nexport default function (srcLinks, Node, dstLinks) {\r\n    srcLinks = srcLinks.length > 1? new Link(deriveLinkFromLinks(srcLinks)): srcLinks[0];\r\n    dstLinks = dstLinks.length > 1? new Link(deriveLinkFromLinks(dstLinks)): dstLinks[0];\r\n\r\n    var obj = {};\r\n    obj.id = \"transformed:(\" + srcLinks.id + \")\" + Node.id + \"(\" + dstLinks.id + \")\";\r\n    obj.label = \"(\" + srcLinks.label() + \")\" + Node.label() + \"(\" + dstLinks.label() + \")\";\r\n    obj.src = srcLinks.src === Node.id? srcLinks.dst: srcLinks.src;\r\n    obj.dst = dstLinks.src === Node.id? dstLinks.dst: dstLinks.src;\r\n    obj.width = (srcLinks.width() + dstLinks.width()) / 2;\r\n    obj.color = Node.color();\r\n    obj.direction = direction([srcLinks, dstLinks]);\r\n\r\n    return obj;\r\n}","export default function TransformedBy (Node, Links){\r\n    this.node = Node;\r\n    this.links = Links;\r\n    \r\n    Node.transformed(true);\r\n    Links.forEach(function(Link){Link.transformed(true);});\r\n}\r\n\r\nTransformedBy.prototype = {\r\n    constructor: TransformedBy,\r\n    untransform: untransform,\r\n    remove: remove\r\n};\r\n\r\nfunction remove (){\r\n    this.node.remove();\r\n    this.links.forEach(function(Link){Link.remove();});\r\n}\r\n\r\nfunction untransform (){\r\n    this.node.transformed(false);\r\n    this.links.forEach(function(Link){ Link.transformed(false);});\r\n}","import deriveLinkFromLNL from \"../../utils/deriveLinkFromLNL\";\r\nimport TransformedBy from \"../helper/transformedBy\";\r\n\r\nexport default function () {\r\n    if(this.transformedTo) this.transformedTo.LtoN();//transform a Node that has been transformed before, transform back first.\r\n\r\n    var contractedLinks = this.getConnectedLinks(true);\r\n\r\n    if(contractedLinks.length !== 2) return;\r\n    \r\n    var newLink = deriveLinkFromLNL(contractedLinks[0], this, contractedLinks[1]);\r\n\r\n    newLink.transformedBy = new TransformedBy(this, contractedLinks[0].concat(contractedLinks[1]));\r\n\r\n   this.transformedTo = this.graph._addLink(newLink);\r\n\r\n    this.graph.render();\r\n}","export default function (grouped) {\r\n    var connectedLinks = this.graph._links.filter(function (Link) {\r\n        return  ((Link.source === this) || (Link.target === this)) && !Link.merged() && (Link.transformed() === this.transformed());\r\n    }, this);\r\n    \r\n    if(grouped){\r\n        var separated = {};\r\n\r\n        connectedLinks.forEach(function(Link){\r\n            var separatedId = Link.src === this.id? Link.dst: Link.src;\r\n            if(separated[separatedId] === undefined) separated[separatedId] = [];\r\n            separated[separatedId].push(Link);\r\n        },this);\r\n\r\n        connectedLinks = [];\r\n        for (var k in separated){\r\n            connectedLinks.push(separated[k]);\r\n        }\r\n    }\r\n\r\n    return connectedLinks;\r\n}\r\n","import {REMOVE_TYPE} from \"../CONSTANT\";\r\n\r\nexport default function (removeType) {\r\n    delete this.graph._nodesHash[this.id];\r\n    this.graph._nodes.splice(this.graph._nodes.indexOf(this), 1);\r\n    \r\n    if(this.groupedBy && (removeType !== REMOVE_TYPE.UNGROUP) ) this.groupedBy.remove();\r\n}\r\n","import {REMOVE_TYPE} from \"../CONSTANT\";\r\n\r\nexport default function () {\r\n    if(!this.groupedBy || this.grouped()) return;\r\n    \r\n    this.groupedBy.ungroup();\r\n\r\n    this.remove(REMOVE_TYPE.UNGROUP);\r\n\r\n    this.graph.render();\r\n    return this;\r\n}","export default function () {\r\n    var exceptArr = ['_element', '_needTransformed', 'graph'];\r\n    var json = {};\r\n    for (var prop in this) {\r\n        if (prop === 'groupedBy') {\r\n            json[prop] = this[prop].pickIds();\r\n    \r\n        } else if (this.hasOwnProperty(prop) && (exceptArr.indexOf(prop) === -1)) {\r\n            var jsonProp = prop.replace(/_/, \"\");\r\n            json[jsonProp] = this[prop];\r\n        }\r\n    }\r\n    \r\n    return json;\r\n}","import getStrLen from \"../../utils/getStrLen\";\r\nimport {color, icon, mugshot, grouped, label, selected, radius, transformed, getX, getY} from \"./attributes\";\r\nimport nudge from \"./nudge\";\r\nimport NtoL from \"./NtoL\";\r\nimport getConnectedLinks from \"./getConnectedLinks\";\r\nimport remove from \"./remove\";\r\nimport ungroup from \"./ungroup\";\r\nimport getJSON from \"./getJSON\";\r\n\r\n//data: data obj, graph: graphInstance\r\nexport default function Node(data, graph) {\r\n    this.graph = graph;\r\n    this.id = data.id;\r\n    this._label = data.label || \"\";\r\n    this.x = data.x || 0;\r\n    this.y = data.y || 0;\r\n    this._radius = data.radius || graph.config.radius;\r\n    this._color = data.color || graph.config.color;\r\n    this._icon = data.icon  || graph.config.icon;\r\n    this._mugshot = data.mugshot || graph.config.mugshot;\r\n    this._selected = data.selected || false; //indicate whether node is select\r\n    if(data.grouped) this._grouped = data.grouped;\r\n    \r\n    for (var prop in data) {\r\n        if (data.hasOwnProperty(prop) && this[prop] === undefined) this[prop] = data[prop];\r\n    }\r\n}\r\n\r\nNode.prototype = {\r\n    constructor: Node,\r\n    selected: selected,\r\n    transformed: transformed,\r\n    _nudge: nudge,\r\n    getX: getX,\r\n    getY: getY,\r\n    label: label,\r\n    getLabelWidth: function(){\r\n        return getStrLen(this.label()) * 9;\r\n    },\r\n    color: color,\r\n    icon: icon,\r\n    mugshot: mugshot,\r\n    radius: radius,\r\n    remove: remove,\r\n    NtoL: NtoL,\r\n    getConnectedLinks: getConnectedLinks,\r\n    grouped: grouped,\r\n    ungroup: ungroup,\r\n    getJSON: getJSON\r\n};","import toArray from \"../utils/toArray\";\r\nimport {BUILD_REF_TYPE} from \"./CONSTANT\";\r\nimport Node from \"./node/index\";\r\nimport Link from \"./link/index\";\r\n\r\nfunction clearNodes() {\r\n    this._nodes = [];\r\n}\r\n\r\nfunction clearLinks() {\r\n    this._links = [];\r\n}\r\n\r\nfunction hasNode(obj) {\r\n    return this._nodesHash[obj.id]? true: false;\r\n}\r\n\r\nfunction hasLink(obj) {\r\n    return this._linksHash[obj.id]? true: false;\r\n}\r\n\r\nfunction addNode(obj) {\r\n    var node = new Node(obj, this);\r\n    if(!this.hasNode(node)){\r\n        this._nodesHash[node.id] = node;\r\n        this._nodes.push(node);\r\n    }\r\n    return node;\r\n}\r\n\r\nfunction addLink(obj) {\r\n    var link = new Link(obj, this);\r\n    if(!this.hasLink(link) && link.hasST()){\r\n        this._linksHash[link.id] = link;\r\n        this._links.push(link);\r\n    }\r\n    \r\n    return link;\r\n}\r\n\r\nfunction removeNodes(filter) {\r\n    this.getNodes(filter).forEach(function(Node){\r\n        //remove links first\r\n        this._removeLinksOfNode(Node);\r\n        Node.remove();\r\n    }, this);\r\n    \r\n    this.render();\r\n}\r\n\r\nfunction removeLinks(filter) {\r\n    this.getLinks(filter).forEach(function(Link){\r\n        Link.remove();\r\n    }, this);\r\n    \r\n    this.render();\r\n}\r\n\r\nfunction removeLinksOfNode(Node) {\r\n    Node.getConnectedLinks().map(function (Link) {\r\n        Link.remove();\r\n    }, this);\r\n}\r\n\r\nfunction nodes(nodes, cover) {\r\n    nodes = toArray(nodes);\r\n    \r\n    if(!arguments.length) return this._nodes;\r\n    if(cover) this.clearNodes();\r\n    \r\n    nodes.forEach(function(v){ this._addNode(v);},this);\r\n    this.buildReference(BUILD_REF_TYPE.NODE);\r\n    \r\n    this.render();\r\n    return this;\r\n}\r\n\r\nfunction links(links, cover) {\r\n    links = toArray(links);\r\n    \r\n    if(!arguments.length) return this._links;\r\n    if(cover) this.clearLinks();\r\n    \r\n    links.forEach(function(v){ this._addLink(v); },this);\r\n    this.buildReference(BUILD_REF_TYPE.LINK);\r\n    \r\n    this.render();\r\n    return this;\r\n}\r\n\r\nexport {clearNodes, clearLinks, hasNode, hasLink, addNode, addLink, removeNodes, removeLinks, removeLinksOfNode, nodes, links};","export default function (array) {\r\n    return array.map(function(item){\r\n        if(typeof item  ===  'object') return item.id;\r\n        else return item;\r\n    });\r\n}","import toArray from \"./toArray\";\r\nimport getIds from \"./getIds\";\r\n\r\n//filter array of object which has id; filtered by id, or id array, or object that has id, or object array\r\n//this function is convenient to Nodes or Links data.\r\nexport default function (filter, objArray) {\r\n    if(typeof filter === \"function\"){\r\n        var filtered = filter;\r\n    }else if(filter === undefined || filter === null){\r\n        filtered = function(){return true};\r\n    }else{\r\n        var ids = getIds(toArray(filter));\r\n\r\n        filtered = function(v){\r\n            return ids.indexOf(v.id) !== -1;\r\n        };\r\n    }\r\n    return objArray.filter(filtered);\r\n}\r\n","import filterBy from \"../utils/filterBy\";\r\nimport {DIRECTION} from \"./CONSTANT\";\r\n\r\nfunction getNodes(filter) {\r\n    return filterBy(filter, this._nodes);\r\n}\r\n\r\nfunction getRenderedNodes() {\r\n    return this.getNodes(function(Node){\r\n        return !Node.transformed() && !Node.grouped();\r\n    });\r\n}\r\n\r\nfunction getSelectedNodes() {\r\n    return this.getNodes(function(Node){\r\n        return Node.selected();\r\n    });\r\n}\r\n\r\nfunction getInvertedNodes(filter) {\r\n    var Nodes = this.getNodes(filter);\r\n    return this.getRenderedNodes().filter(function(Node){\r\n        return Nodes.indexOf(Node) === -1;\r\n    });\r\n}\r\n\r\nfunction getUngroupedNodes(filter) {\r\n    return this.getNodes(filter)\r\n        .filter(function(Node){ return !Node.grouped() });\r\n}\r\n\r\nfunction getLinkedNodes(filter, type) {\r\n    var Nodes = this.getNodes(filter);\r\n    \r\n    var relatedNodes = [];\r\n    \r\n    this.getRenderedLinks().forEach(function (Link) {\r\n        if(type === 'none' && Link.direction() !== DIRECTION.NONE) return;\r\n        if(type === 'double' && Link.direction() !== DIRECTION.DOUBLE) return;\r\n        if (Nodes.indexOf(Link.source) !== -1) {\r\n            if(type === 'in' && Link.direction() !== DIRECTION.D2S) return;\r\n            if(type === 'out' && Link.direction() !== DIRECTION.S2D) return;\r\n            relatedNodes.push(Link.target);\r\n        }\r\n        if (Nodes.indexOf(Link.target) !== -1) {\r\n            if(type === 'in' && Link.direction() !== DIRECTION.S2D) return;\r\n            if(type === 'out' && Link.direction() !== DIRECTION.D2S) return;\r\n            relatedNodes.push(Link.source);\r\n        }\r\n    });\r\n    \r\n    return relatedNodes;\r\n}\r\n\r\nfunction getRelatedNodes(filter) {\r\n    var Nodes = this.getNodes(filter);\r\n    var argLength = Nodes.length;\r\n    \r\n    for (var i = 0; i < Nodes.length; i++) {\r\n        var adjList = getAdjNode(Nodes[i], this);\r\n        adjList.forEach(function (Node) {\r\n            if (Nodes.indexOf(Node) === -1) {\r\n                Nodes.push(Node);\r\n            }\r\n        });\r\n    }\r\n    \r\n    //minus original Nodes\r\n    Nodes = Nodes.filter(function(Node, i){\r\n        return i >= argLength;\r\n    });\r\n    return Nodes;\r\n    \r\n    function getAdjNode(Node, self) {\r\n        var Nodes = [];\r\n        self.getRenderedLinks().forEach(function (Link) {\r\n            if (Link.source === Node && (Nodes.indexOf(Link.target) === -1)) {\r\n                Nodes.push(Link.target);\r\n            } else if (Link.target === Node && (Nodes.indexOf(Link.source) === -1)) {\r\n                Nodes.push(Link.source);\r\n            }\r\n        });\r\n        return Nodes;\r\n    }\r\n}\r\n\r\nexport {getNodes, getRenderedNodes, getSelectedNodes, getInvertedNodes, getUngroupedNodes, getLinkedNodes, getRelatedNodes};","import {RENDER_TYPE} from \"./CONSTANT\";\r\n\r\nfunction selectNodes(filter, retainOther) {\r\n    if(!retainOther) this.deselectNodes();\r\n    this.getNodes(filter).forEach(function(Node){\r\n        Node.selected(true);\r\n    }, this);\r\n\r\n    this.render(RENDER_TYPE.SELECT);\r\n}\r\n\r\nfunction deselectNodes(filter) {\r\n    this.getNodes(filter).forEach(function(Node){\r\n        Node.selected(false);\r\n    }, this);\r\n    this.render(RENDER_TYPE.SELECT);\r\n    return this;\r\n}\r\n\r\nfunction deselectLinks(filter) {\r\n    this.getLinks(filter).forEach(function(Link){\r\n        Link.selected(false);\r\n    }, this);\r\n    this.render(RENDER_TYPE.SELECT);\r\n    return this;\r\n}\r\n\r\nexport {selectNodes, deselectNodes, deselectLinks};","export default function GroupedBy(newNode, Nodes, Links, attachedLinks) {\r\n    this.nodes = Nodes;\r\n    this.links = Links;\r\n    this.attachedLinks = [];\r\n    \r\n    Nodes.forEach(function(Node){ Node.grouped(true); });\r\n    Links.forEach(function(Link){ Link.grouped(true); });\r\n    \r\n    attachedLinks.forEach(function(Link){\r\n        var attachedLink = {\"link\": Link};\r\n        if(Nodes.indexOf(Link.source) !== -1) {\r\n            attachedLink.originalSource = Link.source;\r\n            Link.source = newNode;\r\n        }\r\n        if(Nodes.indexOf(Link.target) !== -1) {\r\n            attachedLink.originalTarget = Link.target;\r\n            Link.target = newNode;\r\n        }\r\n        this.attachedLinks.push(attachedLink);\r\n    }, this);\r\n    \r\n}\r\n\r\nGroupedBy.prototype = {\r\n    constructor: GroupedBy,\r\n    ungroup: ungroup,\r\n    pickIds: pickIds,\r\n    remove: remove\r\n};\r\n\r\nfunction ungroup(){\r\n    this.nodes.forEach(function(Node){\r\n        Node.grouped(false);\r\n    });\r\n    this.links.forEach(function(Link){\r\n        Link.grouped(false);\r\n    });\r\n    this.attachedLinks.forEach(function(attachedLink){\r\n        if(attachedLink.originalSource) attachedLink.link.source = attachedLink.originalSource;\r\n        else attachedLink.link.target = attachedLink.originalTarget;\r\n    });\r\n}\r\nfunction pickIds(){\r\n    var onlyId = {nodes: [], links: [], attachedLinks: []};\r\n    this.nodes.forEach(function(Node){onlyId.nodes.push(Node.id);});\r\n    this.links.forEach(function(Link){onlyId.links.push(Link.id);});\r\n    this.attachedLinks.forEach(function(obj){\r\n        var attachedLink = {link: obj.link.id};\r\n        if(obj.originalSource) attachedLink.originalSource = obj.originalSource.id;\r\n        if(obj.originalTarget) attachedLink.originalTarget = obj.originalTarget.id;\r\n        onlyId.attachedLinks.push(attachedLink);\r\n    });\r\n    return onlyId;\r\n}\r\n\r\nfunction remove(){\r\n    this.nodes.forEach(function(Node){Node.remove();});\r\n    this.links.forEach(function(Node){Node.remove();});\r\n    this.attachedLinks.forEach(function(obj){obj.link.remove();});\r\n}","import {BUILD_REF_TYPE} from \"./CONSTANT\";\r\nimport GroupedBy from \"./helper/groupedBy\";\r\nimport MergedBy from \"./helper/mergedBy\";\r\nimport TransformedBy from \"./helper/transformedBy\";\r\n\r\nexport default function (type) {\r\n    this._links.forEach(function (Link) {\r\n        if(Link.mergedBy && !(Link.mergedBy instanceof MergedBy) ){\r\n            var Links = this.getLinks(Link.mergedBy.links);\r\n            \r\n            if(Links.length === Link.mergedBy.links.length) Link.mergedBy = new MergedBy(Links);\r\n        }\r\n        \r\n        if(Link.transformedBy && !(Link.transformedBy instanceof TransformedBy) ){\r\n            var Node = this.getNodes(Link.transformedBy.node)[0];\r\n                Links = this.getLinks(Link.transformedBy.links);\r\n            \r\n            if(Node && Links.length === Link.transformedBy.links.length) Link.transformedBy = new TransformedBy(Node, Links);\r\n        }\r\n    }, this);\r\n    \r\n    this._nodes.forEach(function (Node) {\r\n        if(Node.groupedBy && (!(this.groupedBy instanceof GroupedBy)) ){\r\n            var by = Node.groupedBy;\r\n            var Nodes = this.getNodes(by.nodes);\r\n            var Links = this.getLinks(by.links);\r\n            var attachedLinks = this.getLinks(by.attachedLinks);\r\n            \r\n            if(Nodes.length === by.nodes.length && Links.length === by.links.length && attachedLinks.length === by.attachedLinks.length)\r\n                Node.groupedBy = new GroupedBy(Node, Nodes, Links, attachedLinks);\r\n            \r\n        }\r\n            \r\n    }, this);\r\n}\r\n","import filterBy from \"../utils/filterBy\";\r\nimport getIds from \"../utils/getIds\";\r\n\r\nfunction getLinks(filter) {\r\n    return filterBy(filter, this._links);\r\n}\r\n\r\nfunction getContainLinks(Nodes) {\r\n    var ids = getIds(Nodes);\r\n    return this._links.filter(function(Link){\r\n        return (ids.indexOf(Link.source.id) !== -1) && (ids.indexOf(Link.target.id) !== -1) && !Link.merged();\r\n    });\r\n}\r\n\r\nfunction getAttachedLinks(Nodes) {\r\n    var ids = getIds(Nodes);\r\n    return this._links.filter(function (Link) {\r\n        return ( (ids.indexOf(Link.source.id) === -1 && ids.indexOf(Link.target.id) !== -1) || (ids.indexOf(Link.source.id) !== -1 && ids.indexOf(Link.target.id) === -1) )\r\n            && !Link.merged();\r\n    });\r\n}\r\n\r\nfunction getRelatedLinks(Nodes) {\r\n    return this.getContainLinks(Nodes).concat(this.getAttachedLinks(Nodes));\r\n}\r\n\r\nfunction getRenderedLinks() {\r\n    return this.getLinks(function(Link){\r\n        return !Link.transformed() && !Link.merged() && !Link.grouped();\r\n    });\r\n}\r\n\r\nexport {getLinks, getContainLinks, getAttachedLinks, getRelatedLinks, getRenderedLinks};","export default function () {\r\n    var str = '<defs>'+\r\n                        '<filter id=\"shadow\" x=\"-20%\" y=\"-20%\" width=\"200%\" height=\"200%\" type=\"Shadow\" shadowoffsetx=\"5\" shadowoffsety=\"5\" shadowblur=\"5\" shadowcolor=\"rgba(0,0,0)\">' +\r\n                            '<feOffset result=\"offOut\" in=\"SourceGraphic\" dx=\"0\" dy=\"3\"></feOffset>' +\r\n                            '<feColorMatrix result=\"matrixOut\" in=\"offOut\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0\"></feColorMatrix>' +\r\n                            '<feGaussianBlur result=\"blurOut\" in=\"matrixOut\" stdDeviation=\"2\"></feGaussianBlur>' +\r\n                            '<feBlend in=\"SourceGraphic\" in2=\"blurOut\" mode=\"normal\"></feBlend>' +\r\n                        '</filter>' +\r\n                        '<marker id=\"start-arrow\" viewBox=\"0 -5 10 10\" refX=\"10\" markerWidth=\"3\" markerHeight=\"3\" orient=\"auto\"><path d=\"M10,-5L0,0L10,5\"></path></marker>' +\r\n                        '<marker id=\"start-arrow-hover\" viewBox=\"0 -5 10 10\" refX=\"10\" markerWidth=\"3\" markerHeight=\"3\" orient=\"auto\"><path d=\"M10,-5L0,0L10,5\"></path></marker>' +\r\n                        '<marker id=\"start-arrow-selected\" viewBox=\"0 -5 10 10\" refX=\"10\" markerWidth=\"3\" markerHeight=\"3\" orient=\"auto\"><path d=\"M10,-5L0,0L10,5\"></path></marker>' +\r\n                        '<marker id=\"end-arrow\" viewBox=\"0 -5 10 10\" refX=\"0\" markerWidth=\"3\" markerHeight=\"3\" orient=\"auto\"><path d=\"M0,-5L10,0L0,5\"></path></marker>' +\r\n                        '<marker id=\"end-arrow-hover\" viewBox=\"0 -5 10 10\" refX=\"0\" markerWidth=\"3\" markerHeight=\"3\" orient=\"auto\"><path d=\"M0,-5L10,0L0,5\"></path></marker>' +\r\n                        '<marker id=\"end-arrow-selected\" viewBox=\"0 -5 10 10\" refX=\"0\" markerWidth=\"3\" markerHeight=\"3\" orient=\"auto\"><path d=\"M0,-5L10,0L0,5\"></path></marker>' +\r\n                        '<radialGradient id=\"linear\" cx=\"50%\" cy=\"50%\" r=\"50%\" fx=\"50%\" fy=\"50%\">' +\r\n                            '<stop offset=\"0%\" style=\"stop-color:rgb(255，255,255);stop-opacity:0\" />' +\r\n                            '<stop offset=\"90%\" style=\"stop-color:rgb(255,255,255);stop-opacity:1\" />' +\r\n                            '<stop offset=\"98%\" style=\"stop-color:rgb(255,255,255);stop-opacity:1\" />' +\r\n                            '<stop offset=\"100%\" style=\"stop-color:rgb(222，222, 222);stop-opacity:1\" />' +\r\n                        '</radialGradient>' +\r\n                '</defs>';\r\n\r\n    this._canvas.insertAdjacentHTML(\"afterbegin\", str);\r\n}","export default function () {\r\n    var svg = this._getSvgSelection();\r\n    this._brushSelection = svg.append(\"g\").attr(\"class\", \"brush\");\r\n\r\n    var forceGroup = this._forceGroupSelection = svg.append('g').attr('class', 'force');\r\n    \r\n    forceGroup.append(\"g\").attr(\"class\", \"paths\");\r\n    forceGroup.append(\"g\").attr(\"class\", \"link-labels\");\r\n    forceGroup.append(\"g\").attr(\"class\", \"nodes\");\r\n}","export default function() {\r\n    return d3.zoom().scaleExtent([this.config.minScale, this.config.maxScale])\r\n        .on('start', function () {\r\n        })\r\n        .on(\"zoom\", this._zoomed.bind(this))\r\n        .on('end', function () {\r\n        });\r\n}\r\n\r\n","export default function () {\n    var self = this;\n    var brush = d3.brush()\n        .extent([[0, 0], [3840, 2400]])\n        .on('start', function () {\n            if (!d3.event.selection) return; // Ignore empty selections.\n            \n            self._getNodesSelection().each(function (Node) {\n                Node.pselected = d3.event.sourceEvent.ctrlKey && Node.selected();\n            });\n        })\n        .on('brush', function () {\n            if (!d3.event.selection) return; // Ignore empty selections.\n\n            var extent = d3.event.selection;\n            var t = self._getCurrentTransform();\n\n            self._getNodesSelection().each(function(Node){\n                Node.selected(Node.pselected ^ ( (extent[0][0] - t.x) / t.k  <= Node.getX() && Node.getX() < (extent[1][0] - t.x) / t.k  && (extent[0][1] - t.y) / t.k <= Node.getY() && Node.getY() < (extent[1][1] - t.y) / t.k ));\n            });\n\n        })\n        .on('end', function () {\n            if (!d3.event.selection) return; // Ignore empty selections.\n            self._getBrushSelection()\n                .call(brush.move, null);\n        });\n\n    brush.show = function(){\n        self._getBrushSelection().style('display', 'block');\n    };\n    brush.hide = function(){\n        self._getBrushSelection().style('display', 'none');\n    };\n\n    return brush;\n}","export default function () {\r\n    var self = this;\r\n    var drag = d3.drag()\r\n        .on(\"start\", function (Node) {\r\n            d3.event.sourceEvent.stopPropagation();\r\n        })\r\n        .on(\"drag\", this.draged.bind(this))\r\n        .on(\"end\", function (Node) {\r\n\r\n        });\r\n    return drag;\r\n}","import appendPreDefs from \"./appendPreDefs\";\r\nimport appendPreElement from \"./appendPreElement\";\r\nimport Zoom from \"./zoom\";\r\nimport Brush from \"./brush\";\r\nimport dragNode from \"./dragNodes\";\r\n\r\nexport default function () {\r\n    //init trigger only once a graph\r\n    if(this._hasInit) return;\r\n\r\n    var self = this;\r\n\r\n    //add predefined DOM\r\n    appendPreElement.call(this);\r\n    appendPreDefs.call(this);\r\n\r\n\r\n    this._getSvgSelection()\r\n        .classed(\"graph\", true)\r\n        .on('click', function(){\r\n            if (d3.event.target.nodeName !== 'svg') return;\r\n\r\n            //scope.cMenu.hide();\r\n            self.deselectNodes()\r\n                .deselectLinks();\r\n        });\r\n\r\n    //bind listener to page for keyboard shortCuts and mouse events\r\n    d3.select(document.body)\r\n        .on(\"keydown.brush\", this._keydowned.bind(this))\r\n        .on(\"keyup.brush\", this._keyupped.bind(this));\r\n\r\n    //add zoom instance to graph\r\n    this.zoom = Zoom.call(this);\r\n    this._getSvgSelection()\r\n        .call(this.zoom);\r\n\r\n    //add brush instance to graph\r\n    this.brush = Brush.call(this);\r\n    this._getBrushSelection()\r\n        .call(this.brush);\r\n\r\n    \r\n    //new drag instance for bind to nodes\r\n    this.dragNode = dragNode.call(this);\r\n\r\n    this._hasInit = true;\r\n}","export default function (url) {\r\n    return (url || window.location.href).split('#')[0];\r\n}","import getAbsUrl from \"../../utils/getAbsUrl\";\r\nimport {RENDER_TYPE} from \"../CONSTANT\";\r\n\r\nexport default function (drawType) {\r\n \r\n    var self = this;\r\n    var nodes = this._getNodesSelection().data(this.getRenderedNodes(), function (Node) { return Node.id;});\r\n\r\n    var g = nodes.enter().append('g')\r\n        .each(function(Node){ Node._element = this })//reference element to Node\r\n        .classed('node', true)\r\n        .on('mousedown', function(Node){\r\n            if(!d3.event.ctrlKey){\r\n                if(Node.selected()) return;\r\n                self.deselectNodes();\r\n            }\r\n            self.deselectLinks();\r\n            Node.selected(!Node.selected());\r\n        })\r\n        .call(this.dragNode);\r\n\r\n    //添加矩形\r\n    g.append(\"circle\")\r\n        .attr(\"filter\", \"url(\" + getAbsUrl() + \"#shadow)\");\r\n    g.append('svg:foreignObject')\r\n        .attr('class', 'text-group')\r\n        .append(\"xhtml:div\")\r\n        .append('xhtml:span');\r\n    g.append('svg:foreignObject')\r\n        .attr('class', 'icon')\r\n        .append('xhtml:span');\r\n    g.append('svg:foreignObject')\r\n        .attr('class', 'mugshot')\r\n        .append('xhtml:img');\r\n\r\n    //Enter and Update\r\n    if(drawType === RENDER_TYPE.NUDGE){\r\n        var selectedNodeEle = this.getSelectedNodes().map(function(Node){return Node._element;});\r\n        var all = d3.selectAll(selectedNodeEle);\r\n    }\r\n    // else if(drawType === RENDER_TYPE.SELECT){\r\n    //\r\n    // }\r\n    else{\r\n        all = this._getNodesSelection();\r\n    }\r\n    \r\n    var scale = self._getCurrentScale();\r\n\r\n    all.attr(\"transform\", function (Node) { return \"translate(\" + Node.getX() + \",\" + Node.getY() + \")\";})\r\n        .classed(\"selected\", function(Node){return Node.selected()});\r\n\r\n    all.select('circle')\r\n        .attr(\"r\", function(Node){ return Node.radius();})\r\n        .style(\"fill\", function(Node){ return Node.color(); });\r\n\r\n    all.selectAll('.icon, .mugshot')\r\n        .attr(\"transform\", function(Node){ return \"translate(\" + -Node.radius() + \", \"+ -Node.radius() +\")\"; })\r\n        .attr(\"width\", function(Node){return Node.radius()*2;})\r\n        .attr(\"height\", function(Node){return Node.radius()*2;});\r\n    \r\n    all.select('.icon').select('span')\r\n        .attr('class', function(Node){ return self.config.iconPrefix + Node.icon();})\r\n        .style(\"line-height\", function(Node){return Node.radius()*2 + \"px\";});\r\n    all.select('.mugshot').select('img')\r\n        .attr('src', function(Node){return Node.mugshot()? self.config.mugshotPrefix + Node.mugshot(): \"\";})\r\n        .style('display', function(Node){return Node.mugshot()? \"block\": \"none\";});\r\n        \r\n    all.select('.text-group')\r\n        .style('display', function(Node){\r\n            return (scale < self.config.scaleOfHideLabel)? 'none': 'block';\r\n        })\r\n        .attr('width', function (Node) { return Node.getLabelWidth(); })\r\n        .attr(\"height\", function(Node){ return Node.radius() * scale; })\r\n        .style(\"line-height\", function(Node){ return Node.radius() * scale + \"px\"; })\r\n        .attr(\"transform\", function(Node){ return \"translate(\" + (1 + Node.radius()) + \", 0) scale(\" + 1 / scale + \")\"; })\r\n\r\n        .select('div')\r\n        .attr('title', function (Node) { return Node.label(); })\r\n        .select('span')\r\n        .text(function (Node) { return Node.label(); });\r\n\r\n    nodes.exit().remove();\r\n}","import getAbsUrl from \"../../utils/getAbsUrl\";\r\nimport {RENDER_TYPE} from \"../CONSTANT\";\r\n\r\nexport default function (drawType) {\r\n    var self = this;\r\n    \r\n    var links = this._getLinksSelection().data(this.getRenderedLinks(), function (Link) { return Link.id });\r\n\r\n    links.enter()\r\n        .append('path')\r\n        .classed('link-path', true)\r\n        .each(function(Link){ Link._pathEle = this })\r\n        .attr('id', function(Link){ return \"link-path\" + Link.id})\r\n        .on('mousedown', function(Link){\r\n            self.deselectLinks()\r\n                .deselectNodes();\r\n            Link.selected(!Link.selected());\r\n        });\r\n    \r\n    if(drawType === RENDER_TYPE.NUDGE){\r\n        var selectedNodes = this.getSelectedNodes();\r\n        var attachedLinks = this.getRelatedLinks(selectedNodes);\r\n        var attachedLinksEle = attachedLinks.map(function(Link){return Link._pathEle});\r\n    \r\n        var changedLinks = d3.selectAll(attachedLinksEle);\r\n    }else{\r\n        changedLinks  = this._getLinksSelection();\r\n    }\r\n\r\n    changedLinks\r\n        .attr('d', function (Link) { var c = Link.getCoordination();  return 'M ' + c.Sx + ' ' + c.Sy + ' L ' + c.Tx + ' ' + c.Ty; })\r\n        .classed(\"selected\", function(Link){return Link.selected()})\r\n        .style('marker-start', function (Link) { return Link.getStartArrow(); })\r\n        .style('marker-end', function (Link) { return Link.getEndArrow(); })\r\n        .style('stroke-width', function(Link){ return Link.width(); })\r\n        .style('stroke', function(Link){ return Link.color(); });\r\n\r\n\r\n    links.exit().remove();\r\n    \r\n\r\n    //绑定linkData数据到linkLabels\r\n    var linkLabels = this._getLinksLabelSelection().data(this._links, function (Link) { return Link.id; });\r\n\r\n    //按需增加新的LinkLabels(当linksData data > linkPaths element)\r\n    linkLabels.enter().append('text')\r\n        .each(function(Link){ Link._labelEle = this })\r\n        .style(\"pointer-events\", \"none\")\r\n        .classed('link-label', true)\r\n        .attr('id', function (Link) { return 'link-label' + Link.id; })\r\n        //.attr('text-anchor', 'middle')\r\n        .append('textPath')\r\n        .attr('xlink:href', function (Link) {  return getAbsUrl() + '#link-path' + Link.id; })\r\n        //.attr('startOffset', '50%')\r\n        .style(\"pointer-events\", \"none\");\r\n    \r\n    \r\n    if(drawType === RENDER_TYPE.NUDGE){\r\n        var attachedLinkLabels = attachedLinks.map(function(Link){return Link._labelEle});\r\n        \r\n        var allLabels = d3.selectAll(attachedLinkLabels);\r\n        \r\n    }else{\r\n        allLabels = this._getLinksLabelSelection();\r\n    }\r\n    \r\n    var scale = self._getCurrentScale();\r\n    allLabels\r\n        .style('display', function(Link){\r\n            return (scale < self.config.scaleOfHideLabel)? 'none': 'block';\r\n        })\r\n        .attr('dx', function(Link){return Link.getTextOffset(); })\r\n        .attr('dy', 1)\r\n        .attr('font-size', 13)\r\n        //反转字体，使字体总是朝上，该句放于该函数最后执行，提前会导致问题\r\n        .attr('transform', function(Link){ return Link.getLinkLabelTransform(scale); });\r\n\r\n    allLabels.select('textPath')\r\n        .text(function (Link) {\r\n            return Link.label();\r\n        });\r\n\r\n\r\n    linkLabels.exit().remove();\r\n}","export default function () {\r\n    var context = this._canvas.getContext(\"2d\");\r\n\r\n    context.clearRect(0, 0, this._canvas.width, this._canvas.height);\r\n\r\n    context.strokeStyle = \"#ccc\";\r\n    context.beginPath();\r\n    this.getRenderedLinks().forEach(function(Link) {\r\n        context.moveTo(Link.source.getX(), Link.source.getY());\r\n        context.lineTo(Link.target.getX(), Link.target.getY());\r\n    });\r\n    context.stroke();\r\n\r\n    context.beginPath();\r\n    this.getRenderedNodes().forEach(function(Node) {\r\n        context.fillStyle = Node.color();\r\n        context.moveTo(Node.getX(), Node.getY());\r\n        context.arc(Node.getX(), Node.getY(), Node.radius(), 0, 2 * Math.PI);\r\n    });\r\n    context.fill();\r\n}","import drawNodesSvg from \"./drawNodesSvg\";\r\nimport drawLinksSvg from \"./drawLinksSvg\";\r\nimport drawCanvas from \"./drawCanvas\";\r\n\r\nexport default function (drawType, canvasType) {\r\n    if(canvasType === 'svg'){\r\n        drawNodesSvg.call(this, drawType);\r\n        drawLinksSvg.call(this, drawType);\r\n    }else if(canvasType === 'CANVAS'){\r\n        drawCanvas.call(this);\r\n    }\r\n}\r\n","import {RENDER_TYPE} from \"./CONSTANT\";\r\nexport default function () {\r\n    //不可移动\r\n    if (!this.movable) {\r\n        //将变换前的translate值赋给变换后的translate值,保持位置不变\r\n        //this.zoom.translate(scope.config.status.translate);\r\n    }\r\n    //不可缩放\r\n    if (!this.zoomable) {\r\n        //this.zoom.scale(scope.config.status.scale);\r\n    }\r\n    //Graph._ifShowLabels();\r\n    \r\n    var previousScale = this._getForceGroup()._pScale;\r\n    var currentScale = this._getCurrentScale().toFixed(4) / 1;\r\n    //缩放网络图\r\n    this._getForceGroup().attr(\"transform\", \"translate(\" + d3.event.transform.x + \", \"+ d3.event.transform.y + \") scale(\" + currentScale + \")\");\r\n    this._getForceGroup()._pScale = currentScale;\r\n    \r\n    var hideScale = this.config.scaleOfHideLabel;\r\n    \r\n    //render while should hide label\r\n    if(previousScale > hideScale && currentScale < hideScale) this.render(RENDER_TYPE.IMMEDIATELY);\r\n    //panning don't need re-render, render only after zooming\r\n    if(currentScale !== previousScale && currentScale > hideScale) this.render(RENDER_TYPE.IMMEDIATELY);\r\n}","function transform(k, x, y, duration) {\r\n    var transformed = d3.zoomIdentity;\r\n    if(typeof k === \"number\") transformed = transformed.scale(k);\r\n    if(typeof x === \"number\" && typeof y === \"number\") transformed = transformed.translate(x, y);\r\n    this._getSvgSelection(duration).call(this.zoom.transform, transformed);\r\n}\r\n\r\nfunction scaleTo(k, duration) {\r\n    this.transform(k, null, null, duration);\r\n    return this;\r\n}\r\n\r\nfunction translateBy(x, y, duration) {\r\n    this.transform(null, x, y , duration);\r\n    return this;\r\n}\r\n\r\nexport {transform, scaleTo, translateBy};","function keydowned() {\r\n    if (!d3.event.metaKey) {\r\n        switch (d3.event.keyCode) {\r\n            //shift alt and space is used by d3 brush\r\n            case 90:\r\n                this.brush.show();\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nfunction keyupped() {\r\n    if (!d3.event.metaKey) {\r\n        switch (d3.event.keyCode) {\r\n            case 90:\r\n                this.brush.hide();\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nexport {keydowned, keyupped};","import colorMixer from \"../utils/colorMixer\";\nimport concat from \"../utils/deriveConcat\";\nimport average from \"../utils/deriveAverage\";\n\nexport default function (Nodes) {\n    var obj = {};\n    obj.id = \"grouped:\" + concat(\"id\", Nodes);\n    obj.label = concat(\"label\", Nodes);\n    obj.radius = average('radius', Nodes);\n    obj.x = average('x', Nodes);\n    obj.y = average('y', Nodes);\n    obj.color = \"#\"+  colorMixer.mix(Nodes.map(function(Link){return Link.color()}));\n    obj.selected = Nodes.every(function(Node){ return Node.selected()});\n\n    return obj;\n}","import GroupedBy from \"./helper/groupedBy\";\r\nimport deriveNodeFromNodes from \"../utils/deriveNodeFromNodes\";\r\n\r\nfunction group(filter) {\r\n    var Nodes = this.getUngroupedNodes(filter);\r\n    \r\n    if(Nodes.length <= 1) return;\r\n\r\n    var containLinks = this.getContainLinks(Nodes);\r\n    var attachedLinks = this.getAttachedLinks(Nodes);\r\n    var newNode = this._addNode(deriveNodeFromNodes(Nodes));\r\n    \r\n    \r\n    \r\n    newNode.groupedBy = new GroupedBy(newNode, Nodes, containLinks, attachedLinks);\r\n    \r\n    this.render();\r\n}\r\n\r\nfunction groupBy(filter, iteratee) {\r\n    var Nodes = this.getUngroupedNodes(filter);\r\n    if(Nodes.length <= 1) return;\r\n    \r\n    var groupedNodes = _.chain(Nodes)\r\n        .groupBy(iteratee)\r\n        .toArray()\r\n        .value();\r\n    \r\n    groupedNodes.forEach(function(item){\r\n        this.group(item);\r\n    }, this);\r\n}\r\n\r\nfunction flattenGroup(filter) {\r\n    var Nodes = this.getUngroupedNodes(filter);\r\n    \r\n    if(Nodes.length <= 1) return;\r\n    \r\n    var ungroupedNodes = [];\r\n    \r\n    Nodes.forEach(function(Node){\r\n        ungroupNode(Node);\r\n    });\r\n    \r\n    this.group(ungroupedNodes);\r\n    \r\n    \r\n    function ungroupNode (Node){\r\n        if(Node.groupedBy){\r\n            Node.ungroup();\r\n            Node.groupedBy.nodes.forEach(function(Node){\r\n                ungroupNode(Node);\r\n            });\r\n        }else{\r\n            ungroupedNodes.push(Node);\r\n        }\r\n    }\r\n}\r\n\r\nexport {group, groupBy, flattenGroup};","import {RENDER_TYPE} from \"./CONSTANT\";\r\n\r\nexport default function (currentNode) {\r\n    this.getNodes(function(Node){ return Node.selected() || (Node === currentNode)})\r\n    .forEach(function(Node){\r\n        Node._nudge(d3.event.dx, d3.event.dy, true);\r\n    });\r\n    \r\n    this.render(RENDER_TYPE.NUDGE);\r\n}","const DEFAULT_CONFIG = {\r\n    radius: 15,\r\n    linkWidth: 3,\r\n    movable: true,\r\n    zoomable: true,\r\n    dragable: true,\r\n    ifRender: true,\r\n    color: \"#123456\",\r\n    linkColor: \"#a1a1a1\",\r\n    minScale: 0.1,\r\n    maxScale: 3.0,\r\n    scaleOfHideLabel: 0.8,\r\n    icon: \"\",\r\n    iconPrefix: \"\",\r\n    mugshot: \"\",\r\n    mugshotPrefix: \"\"\r\n};\r\n\r\nexport default DEFAULT_CONFIG;","export default function (fromNode, toNode, Nodes, Links) {\r\n    var srcUUID = fromNode.id,\r\n        dstUUID = toNode.id;\r\n\r\n    var S = [];\r\n    var U = [];\r\n\r\n    var srcNode = {\r\n        _id: srcUUID,\r\n        _distance: 0,\r\n        _nodesInPath: [],\r\n        _linksInPath: []\r\n    };\r\n    var dstNode = {\r\n        _id: dstUUID,\r\n        _distance: 0,\r\n        _nodesInPath: [],\r\n        _linksInPath: []\r\n    };\r\n\r\n    U.push(srcNode);\r\n    while (U.length > 0) {\r\n        var tmpMinDistanceNode = _getMinDistanceNode(U);\r\n        //console.log(tmpMinDistanceNode);\r\n        S.push(tmpMinDistanceNode);\r\n        //console.log(S);\r\n        U.splice(_getNodePositionInArrayList(tmpMinDistanceNode._id, U), 1);\r\n        //console.log(U);\r\n\r\n        var tmpAdjNodeList = _getAdjacentNodes(tmpMinDistanceNode._id, Links);\r\n        //console.log(tmpAdjNodeList);\r\n\r\n\r\n        var dstNodePositionInTmpAdjNodeList = _getNodePositionInArrayList(dstNode._id, tmpAdjNodeList);\r\n        if (dstNodePositionInTmpAdjNodeList > -1) {\r\n            //console.log(\"found dst\");\r\n            var lastLink = _getLinkWithSrcAndDst(dstNode._id, S[S.length - 1]._id, Links);\r\n\r\n            dstNode._distance = S[S.length - 1]._distance + lastLink._weight;\r\n            dstNode._nodesInPath = S[S.length - 1]._nodesInPath.slice();\r\n            dstNode._linksInPath = S[S.length - 1]._linksInPath.slice();\r\n            dstNode._nodesInPath.push(dstNode._id);\r\n            dstNode._linksInPath.push(lastLink._id);\r\n            S.push(dstNode);\r\n            break;\r\n        }\r\n\r\n        // 如果还没找到终点，那么对所有邻接点\r\n        for (var i = 0; i < tmpAdjNodeList.length; i++) {\r\n            var tmpAdjNode = Object.assign({}, tmpAdjNodeList[i]);\r\n            //console.log(tmpAdjNode);\r\n            var adjNodePositionInS = _getNodePositionInArrayList(tmpAdjNode._id, S);\r\n            if (adjNodePositionInS > -1) {\r\n                continue;\r\n            }\r\n\r\n            var index = _getNodePositionInArrayList(tmpAdjNode._id, U);\r\n            if (index > -1) {\r\n                //console.log(\"adjNode x in U\");\r\n                var tmpWeight = _getLinkWithSrcAndDst(tmpAdjNode._id, tmpMinDistanceNode._id, Links)._weight;\r\n                var tmpDistance = Math.min(U[index]._distance, tmpMinDistanceNode._distance + tmpWeight);\r\n                var tmpNode = {};\r\n                tmpNode = {\r\n                    _id: U[index]._id,\r\n                    _distance: tmpDistance,\r\n                    _nodesInPath: [],\r\n                    _linksInPath: []\r\n                };\r\n                var tmpNodePath = [];\r\n                var tmpLinkPath = [];\r\n                if (U[index]._distance > (tmpMinDistanceNode._distance + tmpWeight)) {\r\n                    tmpNodePath = (S[S.length - 2]._nodesInPath).slice();\r\n                    tmpNodePath.push(tmpAdjNode._id);\r\n                    tmpLinkPath = (S[S.length - 2]._linksInPath).slice();\r\n                    tmpLinkPath.push(_getLinkWithSrcAndDst(S[S.length - 2]._id, tmpAdjNode._id)._id, Links);\r\n                    tmpNode._nodesInPath = tmpNodePath.slice();\r\n                    tmpNode._linksInPath = tmpLinkPath.slice();\r\n                    U[index] = tmpNode;\r\n                    //console.log(U);\r\n                }\r\n\r\n            } else {\r\n                //console.log(\" adjNode x not in U\");\r\n                tmpWeight = _getLinkWithSrcAndDst(tmpAdjNode._id, tmpMinDistanceNode._id, Links)._weight;\r\n                tmpDistance = tmpMinDistanceNode._distance + tmpWeight;\r\n                tmpNode = {};\r\n                tmpNode = {\r\n                    _id: tmpAdjNode._id,\r\n                    _distance: tmpDistance,\r\n                    _nodesInPath: [],\r\n                    _linksInPath: []\r\n                };\r\n                tmpNodePath = [];\r\n                tmpLinkPath = [];\r\n                tmpNodePath = (S[S.length - 1]._nodesInPath).slice();\r\n                tmpLinkPath = (S[S.length - 1]._linksInPath).slice();\r\n                tmpNodePath.push(tmpAdjNode._id);\r\n                tmpLinkPath.push(_getLinkWithSrcAndDst(S[S.length - 1]._id, tmpAdjNode._id, Links)._id);\r\n\r\n                tmpNode._nodesInPath = tmpNodePath.slice();\r\n                tmpNode._linksInPath = tmpLinkPath.slice();\r\n\r\n                U.push(tmpNode);\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    var ret = {\r\n        _nodesInPath: [],\r\n        _linksInPath: []\r\n    };\r\n    for (i = 0; i < S.length; i++) {\r\n        if (dstUUID === S[i]._id) {\r\n            S[i]._nodesInPath.unshift(srcUUID);\r\n            ret = S[i];\r\n            break;\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n\r\n\r\n// 找到SSPFNode list中distance最小的SSPFNode\r\nfunction _getMinDistanceNode (arrayList) {\r\n    var ret = {\r\n        _distance: Number.POSITIVE_INFINITY\r\n    };\r\n    arrayList.forEach(function (d) {\r\n        if (d._distance < ret._distance) {\r\n            ret._id = d._id;\r\n            ret._distance = d._distance;\r\n            ret._nodesInPath = d._nodesInPath;\r\n            ret._linksInPath = d._linksInPath;\r\n        }\r\n    });\r\n    return ret;\r\n}\r\n\r\n// 根据src和dst找到某个边\r\nfunction _getLinkWithSrcAndDst (src, dst, Links) {\r\n    var ret = {_weight: 0};\r\n    Links.forEach(function (Link) {\r\n        if ((Link.src === src && Link.dst === dst) || (Link.dst === src && Link.src === dst )) {\r\n            ret._id = Link.id;\r\n            ret._src = Link.src;\r\n            ret._dst = Link.dst;\r\n            ret._weight = 1;\r\n            //break;\r\n        }\r\n    });\r\n    return ret;\r\n}\r\n\r\nfunction _getNodePositionInArrayList (id, arrayList) {\r\n    var ret = -1;\r\n    for (var i = 0; i < arrayList.length; i++) {\r\n        if (arrayList[i]._id === id) {\r\n            ret = i;\r\n            break;\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n\r\n// 根据该点的id获取邻接点\r\nfunction _getAdjacentNodes (id, Links) {\r\n    var ret = [];\r\n    var adjacentLinkList = _getAdjacentLinkList(id, Links);\r\n    //console.log(adjacentLinkList);\r\n    adjacentLinkList.forEach(function (d) {\r\n        if (d._src === id) {\r\n            ret.push({\r\n                         _id: d._dst,\r\n                         _distance: d._weight,\r\n                         _nodesInPath: [],\r\n                         _linksInPath: []\r\n\r\n                     });\r\n        } else {\r\n            ret.push({\r\n                         _id: d._src,\r\n                         _distance: d._weight,\r\n                         _nodesInPath: [],\r\n                         _linksInPath: []\r\n                     });\r\n        }\r\n    });\r\n    //console.log(ret);\r\n    return ret;\r\n}\r\n\r\nfunction _getAdjacentLinkList (id, Links) {\r\n    var ret = [];\r\n    Links.forEach(function (d) {\r\n        if (d.src === id || d.dst === id) {\r\n            ret.push({\r\n                         _id: d.id,\r\n                         _src: d.src,\r\n                         _dst: d.dst,\r\n                         _weight: 1\r\n                     });\r\n        }\r\n    });\r\n    return ret;\r\n}","import findShortestPath from \"../utils/findShortestPath\";\r\n\r\nexport default function (fromNode, toNode) {\r\n    var res = findShortestPath(fromNode, toNode, this.getRenderedNodes(), this.getRenderedLinks());\r\n\r\n    return {\r\n        distance: res._distance,\r\n        nodes: this.getNodes(res._nodesInPath),\r\n        links: this.getLinks(res._linksInPath)\r\n    }\r\n}\r\n\r\n","// TODO not complete\r\nfunction forceLayout() {\r\n    return d3.forceSimulation();\r\n}\r\n\r\nfunction gridLayout() {\r\n    var DEBUG = false;\r\n    var self = this;\r\n    var mode = \"equal\",\r\n        layout = _distributeEqually,\r\n        x = d3.scaleOrdinal(),\r\n        y = d3.scaleOrdinal(),\r\n        size = [1, 1],\r\n        actualSize = [0, 0],\r\n        nodeSize = false,\r\n        bands = false,\r\n        padding = [0, 0],\r\n        cols, rows;\r\n    \r\n    function grid(nodes) {\r\n        return layout(nodes);\r\n    }\r\n    \r\n    function _distributeEqually(nodes) {\r\n        var i = -1,\r\n            n = nodes.length,\r\n            _cols = cols ? cols : 0,\r\n            _rows = rows ? rows : 0,\r\n            col, row;\r\n        \r\n        // FIXME: make explicit rows/cols exclusive? Or find a smart way to deal with overflows (repeat?)\r\n        // FIXME: when rows are set, fill top-to-bottom (make test with 5 data points and 4 rows)\r\n        \r\n        if (_rows && !_cols) {\r\n            _cols = Math.ceil(n / _rows)\r\n        } else {\r\n            _cols || (_cols = Math.ceil(Math.sqrt(n)));\r\n            _rows || (_rows = Math.ceil(n / _cols));\r\n        }\r\n        \r\n        if (nodeSize) {\r\n            x.domain(d3.range(_cols)).range(d3.range(0, (size[0] + padding[0]) * _cols, size[0] + padding[0]));\r\n            y.domain(d3.range(_rows)).range(d3.range(0, (size[1] + padding[1]) * _rows, size[1] + padding[1]));\r\n            actualSize[0] = bands ? x(_cols - 1) + size[0] : x(_cols - 1);\r\n            actualSize[1] = bands ? y(_rows - 1) + size[1] : y(_rows - 1);\r\n        } else if (bands) {\r\n            x.domain(d3.range(_cols)).rangeBands([0, size[0]], padding[0], 0);\r\n            y.domain(d3.range(_rows)).rangeBands([0, size[1]], padding[1], 0);\r\n            actualSize[0] = x.rangeBand();\r\n            actualSize[1] = y.rangeBand();\r\n        } else {\r\n            x.domain(d3.range(_cols)).rangePoints([0, size[0]]);\r\n            y.domain(d3.range(_rows)).rangePoints([0, size[1]]);\r\n            actualSize[0] = x(1);\r\n            actualSize[1] = y(1);\r\n        }\r\n        \r\n        if (DEBUG) console.log('cols/rows', _cols, _rows);\r\n        \r\n        while (++i < n) {\r\n            col = i % _cols;\r\n            row = Math.floor(i / _cols);\r\n            \r\n            if (DEBUG) console.log(i, col, row);\r\n            \r\n            nodes[i].x = x(col);\r\n            nodes[i].y = y(row);\r\n        }\r\n        \r\n        self.render();\r\n        \r\n        return nodes;\r\n    }\r\n    \r\n    // grid.mode = function(value) {\r\n    //   if (!arguments.length) return mode;\r\n    //   switch(mode = value) {\r\n    //     case \"equal\":\r\n    //       layout = _distributeEqually;\r\n    //       break;\r\n    //   }\r\n    //   return grid;\r\n    // }\r\n    \r\n    grid.size = function (value) {\r\n        if (!arguments.length) return nodeSize ? actualSize : size;\r\n        actualSize = [0, 0];\r\n        nodeSize = (size = value) == null;\r\n        return grid;\r\n    };\r\n    \r\n    grid.nodeSize = function (value) {\r\n        if (!arguments.length) return nodeSize ? size : actualSize;\r\n        actualSize = [0, 0];\r\n        nodeSize = (size = value) != null;\r\n        return grid;\r\n    };\r\n    \r\n    grid.rows = function (value) {\r\n        if (!arguments.length) return rows;\r\n        rows = value;\r\n        return grid;\r\n    };\r\n    \r\n    grid.cols = function (value) {\r\n        if (!arguments.length) return cols;\r\n        cols = value;\r\n        return grid;\r\n    };\r\n    \r\n    grid.bands = function () {\r\n        bands = true;\r\n        return grid;\r\n    };\r\n    \r\n    grid.points = function () {\r\n        bands = false;\r\n        return grid;\r\n    };\r\n    \r\n    grid.padding = function (value) {\r\n        if (!arguments.length) return padding;\r\n        padding = value;\r\n        return grid;\r\n    };\r\n    \r\n    return grid;\r\n}\r\n\r\nfunction hierarchyLayout(selectedNodes, relatedLinks, width, height) {\r\n    function D3_treeNode(node) {\r\n        if (node.children) {\r\n            return Object.assign({}, node);\r\n        }\r\n        var ret = {\r\n            id: node.id,\r\n            children: []\r\n        };\r\n        relatedLinks.forEach(function (w) {\r\n            if (w.src === node.id) {\r\n                ret.children.push({id: w.dst});\r\n            }\r\n        });\r\n        return ret;\r\n    }\r\n    \r\n    var nodes = selectedNodes.length ? selectedNodes : this.nodesData;\r\n    // initiate coordinates and size of nodes\r\n    nodes.forEach(function (d) {\r\n        d.x = 0;\r\n        d.y = 0;\r\n    });\r\n    \r\n    var tmpNodesList = []; //store all nodes for tree layout.\r\n    // add all nodes' id and sub node informations to tmpNodesList.\r\n    // for (var i = 0; i < nodes.length; i++) {\r\n    //     var tmp_D3_treeNode = new D3_treeNode(this.nodes[i]);\r\n    //     tmpNodesList.push(tmp_D3_treeNode);\r\n    // }\r\n    \r\n    // nodes.forEach(function(d){\r\n    //     var tmp_D3_treeNode = D3_treeNode(d);\r\n    //     tmpNodesList.push(tmp_D3_treeNode);\r\n    // });\r\n    \r\n    \r\n    for (var i = 0; i < nodes.length; i++) {\r\n        var tmp_D3_treeNode = D3_treeNode(nodes[i]);\r\n        tmp_D3_treeNode.indegree = 0;\r\n        tmpNodesList.push(tmp_D3_treeNode);\r\n    }\r\n    \r\n    relatedLinks.forEach(function (d) {\r\n        for (var i = 0; i < tmpNodesList.length; i++) {\r\n            if (d.dst === tmpNodesList[i].id) {\r\n                tmpNodesList[i].indegree++;\r\n                break;\r\n            }\r\n        }\r\n    });\r\n    \r\n    // var minIndegreeNode = nodesIndegreeList[0];\r\n    // for (var i = 0; i < nodesIndegreeList.length; i++) {\r\n    //     if (minIndegreeNode.indegree > nodesIndegreeList[i].indegree) {\r\n    //         minIndegreeNode = nodesIndegreeList[i];\r\n    //     }\r\n    // }\r\n    \r\n    // console.log(minIndegreeNode)\r\n    \r\n    // swap first selected node to the head of tmpNodesList\r\n    //\r\n    // for (i = 0; i < tmpNodesList.length; i++) {\r\n    //     if (tmpNodesList[i].id == minIndegreeNode.id) {\r\n    //         tmp_D3_treeNode = tmpNodesList[0];\r\n    //         tmpNodesList[0] = tmpNodesList[i];\r\n    //         tmpNodesList[i] = tmp_D3_treeNode;\r\n    //         break;\r\n    //     }\r\n    // }\r\n    \r\n    \r\n    tmpNodesList.sort(function (a, b) {\r\n        return a.indegree == b.indegree ? 0 :\r\n            a.indegree > b.indegree ? 1 : -1;\r\n    });\r\n    \r\n    // 添加一个根节点，children是入度最小的若干点\r\n    var leastIndegreeNodeList = [];\r\n    for (var i = 0; i < tmpNodesList.length; i++) {\r\n        if (tmpNodesList[i].indegree > tmpNodesList[0].indegree) {\r\n            break;\r\n        }\r\n        leastIndegreeNodeList.push({id: tmpNodesList[i].id})\r\n    }\r\n    var tmp_D3_treeRootNode = D3_treeNode(nodes[0]);\r\n    tmp_D3_treeRootNode.id = \"-1\";\r\n    tmp_D3_treeRootNode.children = leastIndegreeNodeList;\r\n    tmp_D3_treeRootNode.indegree = -1;\r\n    tmpNodesList.push(tmp_D3_treeRootNode);\r\n    \r\n    tmpNodesList.sort(function (a, b) {\r\n        return a.indegree == b.indegree ? 0 :\r\n            a.indegree > b.indegree ? 1 : -1;\r\n    });\r\n    \r\n    var treeNum = 0; // number of trees in forest\r\n    var tree = d3.tree().size([width, height]); // structure of d3 hierarchy layout\r\n    \r\n    var svg = d3.select(\"s\"); // only for nodes' coordinates calculation, not for rendering.\r\n    var node = svg.selectAll(\".n\"); // only for nodes' coordinates calculation, not for rendering.\r\n    var layoutNodesList = []; // store nodes coordinates of hierarchy layout.\r\n    var unProcessedNodePos = 0; // position of the node in layoutNodesList that has not been processed.\r\n    \r\n    // start hierarchy layout\r\n    while (tmpNodesList.length > 0) {\r\n        // a new tree, create layoutNodesList with root.\r\n        if (unProcessedNodePos == 0 && layoutNodesList.length == 0) {\r\n            tmp_D3_treeNode = D3_treeNode(tmpNodesList[0]);\r\n            tmpNodesList.splice(0, 1);\r\n            var root = {};\r\n            layoutNodesList = tree(root); // store nodes coordinates of hierarchy layout.\r\n            root.id = tmp_D3_treeNode.id;\r\n            root.parent = root;\r\n            root.px = root.x;\r\n            root.py = root.y;\r\n        } else if (unProcessedNodePos < layoutNodesList.length) {\r\n            for (var i = 0; i < tmpNodesList.length; i++) {\r\n                if (tmpNodesList[i].id === layoutNodesList[unProcessedNodePos].id) {\r\n                    tmp_D3_treeNode = D3_treeNode(tmpNodesList[i]);\r\n                    tmpNodesList.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        // add unprocessed node's sub nodes to its children, push its sub nodes into layoutNodesList.\r\n        for (var i = 0; i < tmp_D3_treeNode.children.length; i++) {\r\n            var tmpNode = {id: tmp_D3_treeNode.children[i].id};\r\n            for (var j = 0; j < tmpNodesList.length; j++) {\r\n                // if node still in tmpNodesList and hasn't been processed and deleted.\r\n                if (tmpNode.id == tmpNodesList[j].id) {\r\n                    if (layoutNodesList[unProcessedNodePos].children) {\r\n                        layoutNodesList[unProcessedNodePos].children.push(tmpNode);\r\n                    } else {\r\n                        layoutNodesList[unProcessedNodePos].children = [tmpNode];\r\n                    }\r\n                    \r\n                    var existTag = 0;\r\n                    for (var k = 0; k < layoutNodesList.length; k++) {\r\n                        if (tmpNode.id == layoutNodesList[k].id) {\r\n                            existTag = 1;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (existTag == 0) {\r\n                        layoutNodesList.push(tmpNode);\r\n                    }\r\n                    \r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // console.log(layoutNodesList);\r\n        // return;\r\n        unProcessedNodePos++;\r\n        \r\n        //no node need to push to layoutNodesList, start layout.\r\n        if (unProcessedNodePos == layoutNodesList.length && unProcessedNodePos != 0) {\r\n            node = node.data(tree.nodes(root), function (d) {\r\n                return d.id;\r\n            }); // layout\r\n            \r\n            // get bottom and rightmost coordinates of nodes that have been calculated.\r\n            var top = 0;\r\n            var left = 0;\r\n            var bottom = 0;\r\n            var right = 0;\r\n            for (var i = 0; i < nodes.length; i++) {\r\n                if (nodes[i].x < left) {\r\n                    left = nodes[i].x;\r\n                }\r\n                if (nodes[i].x > right) {\r\n                    right = nodes[i].x;\r\n                }\r\n                if (nodes[i].y < top) {\r\n                    top = nodes[i].y;\r\n                }\r\n                if (nodes[i].y > bottom) {\r\n                    bottom = nodes[i].y;\r\n                }\r\n            }\r\n            \r\n            // set new calculated coordinates to this.nodes\r\n            for (var i = 0; i < nodes.length; i++) {\r\n                for (var j = 0; j < layoutNodesList.length; j++) {\r\n                    if (nodes[i].id == layoutNodesList[j].id) {\r\n                        // here we can change layout of each tree.\r\n                        nodes[i].x = layoutNodesList[j].x + right + 100;\r\n                        nodes[i].y = layoutNodesList[j].y;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            layoutNodesList = [];\r\n            treeNum++;\r\n            unProcessedNodePos = 0;\r\n        }\r\n        \r\n        // sort remain tmpNodesList with out degree in descending order.\r\n        // tmpNodesList.sort(function(a, b) {\r\n        //     return a.children.length == b.children.length ? 0:\r\n        //         a.children.length > b.children.length ? -1: 1;\r\n        // });\r\n        \r\n        tmpNodesList.sort(function (a, b) {\r\n            return a.indegree == b.indegree ? 0 :\r\n                a.indegree > b.indegree ? 1 : -1;\r\n        });\r\n    }\r\n    \r\n}\r\n\r\nexport {forceLayout, gridLayout, hierarchyLayout};","export default function () {\r\n    var json = {\r\n        translate: this._getCurrentTranslate(),\r\n        scale: this._getCurrentScale(),\r\n        nodes: [],\r\n        links: []\r\n    };\r\n    this.getNodes().forEach(function(Node){\r\n       json.nodes.push(Node.getJSON());\r\n    });\r\n    this.getLinks().forEach(function (Link) {\r\n        json.links.push(Link.getJSON());\r\n    });\r\n    return json;\r\n}","import select from \"../utils/select\";\r\nimport render from \"./render\";\r\nimport {clearNodes, clearLinks, hasNode, hasLink, addNode, addLink, removeNodes, removeLinks, removeLinksOfNode, nodes, links} from \"./data\";\r\nimport {getNodes, getRenderedNodes, getSelectedNodes, getInvertedNodes, getUngroupedNodes, getLinkedNodes, getRelatedNodes} from \"./getNodes\";\r\nimport {selectNodes, deselectNodes, deselectLinks} from \"./select_deselect\";\r\nimport buildReference from \"./buildReference\";\r\nimport {getLinks, getContainLinks, getAttachedLinks, getRelatedLinks, getRenderedLinks} from \"./getLinks\";\r\nimport init from \"./init/init\";\r\nimport draw from \"./draw/index\";\r\nimport zoomed from \"./zoomed\";\r\nimport {transform, scaleTo, translateBy} from \"./transform\";\r\nimport {keyupped, keydowned} from \"./keyboard\";\r\nimport {group, groupBy, flattenGroup} from \"./group\";\r\nimport draged from \"./draged\";\r\nimport defaultConfig from \"./defaultConfig\";\r\nimport findShortestPath from \"./findShortestPath\";\r\nimport {forceLayout, gridLayout, hierarchyLayout} from \"./layout\";\r\nimport getJSON from \"./getJSON\";\r\n\r\nfunction Graph(selector, config) {\r\n\r\n    this.config = Object.assign({}, defaultConfig, config || {});\r\n\r\n    this._canvas = select(selector);\r\n\r\n    this._hasInit = false; //init only once\r\n    \r\n    this._nodes = [];\r\n    this._nodesHash = {};\r\n    this._links = [];\r\n    this._linksHash = {};\r\n}\r\n\r\nGraph.prototype = {\r\n    constructor: Graph,\r\n    render: render,\r\n    nodes: nodes,\r\n    getNodes: getNodes,\r\n    getSelectedNodes: getSelectedNodes,\r\n    getRenderedNodes: getRenderedNodes,\r\n    getUngroupedNodes: getUngroupedNodes,\r\n    _addNode: addNode,\r\n    removeNodes: removeNodes,\r\n    clearNodes: clearNodes,\r\n    selectNodes: selectNodes,\r\n    deselectNodes: deselectNodes,\r\n    deselectLinks: deselectLinks,\r\n    getInvertedNodes: getInvertedNodes,\r\n    getRelatedNodes: getRelatedNodes,\r\n    getLinkedNodes: getLinkedNodes,\r\n    hasNode: hasNode,\r\n    //_preTransfer: preTransfer,\r\n    buildReference: buildReference,\r\n    links: links,\r\n    getLinks: getLinks,\r\n    getRenderedLinks: getRenderedLinks,\r\n    getContainLinks: getContainLinks,\r\n    getAttachedLinks: getAttachedLinks,\r\n    getRelatedLinks: getRelatedLinks,\r\n    getJSON: getJSON,\r\n    _addLink: addLink,\r\n    hasLink: hasLink,\r\n    removeLinks: removeLinks,\r\n    _removeLinksOfNode: removeLinksOfNode,\r\n    clearLinks: clearLinks,\r\n    transform: transform,\r\n    scaleTo: scaleTo,\r\n    translateBy: translateBy,\r\n    group: group,\r\n    groupBy: groupBy,\r\n    flattenGroup: flattenGroup,\r\n    draged: draged,\r\n    findShortestPath: findShortestPath,\r\n    gridLayout: gridLayout,\r\n    forceLayout: forceLayout,\r\n    hierarchyLayout: hierarchyLayout,\r\n    _keydowned: keydowned,\r\n    _keyupped: keyupped,\r\n    _init: init,\r\n    _draw: draw,\r\n    _zoomed: zoomed,\r\n    _getCurrentTransform: function(){\r\n        return d3.zoomTransform(this._canvas);\r\n    },\r\n    _getCurrentScale: function(){\r\n        return this._getCurrentTransform().k;\r\n    },\r\n    _getCurrentTranslate: function(){\r\n        var transform = this._getCurrentTransform();\r\n        return [transform.x, transform.y];\r\n    },\r\n    _getBrushSelection: function () {\r\n        return this._getSvgSelection().select('g.brush');\r\n    },\r\n    _getSvgSelection: function(duration){\r\n        var svgSelection = d3.select(this._canvas);\r\n\r\n        if(duration) svgSelection = svgSelection.transition(Math.random()).duration(duration);\r\n\r\n        return svgSelection\r\n    },\r\n    _getSelectedNodesSelection: function(){\r\n        return this._getSvgSelection().select('.nodes').selectAll(\"g.node.selected\");\r\n    },\r\n    _getNodesSelection: function(){\r\n        return this._getSvgSelection().select('.nodes').selectAll(\"g.node\");\r\n    },\r\n    _getNodesLabelSelection: function(){\r\n        return this._getNodesSelection().selectAll('.text-group');\r\n    },\r\n    _getLinksSelection: function(){\r\n        return this._getSvgSelection().select('g.paths').selectAll(\"path\");\r\n    },\r\n    _getLinksLabelSelection: function(){\r\n        return this._getSvgSelection().select('g.link-labels').selectAll('text.link-label');\r\n    },\r\n    _getForceGroup: function(){\r\n        return this._forceGroupSelection;\r\n    }\r\n};\r\n\r\nexport default function (selector, config) {\r\n    return new Graph(selector, config);\r\n}","export default function (id, Nodes) {\r\n    return Nodes.filter(function(Node){\r\n        return Node.id === id;\r\n    })[0];\r\n}","export default function (str) {\r\n    var tmp = document.implementation.createHTMLDocument();\r\n    tmp.body.innerHTML = str;\r\n    return tmp.body.children[0];\r\n}","export default function (maybeFunction) {\r\n    return (maybeFunction instanceof Function)? maybeFunction(): maybeFunction;\r\n}","import filterBy from \"./filterBy\";\r\nimport filterById from \"./filterById\";\r\nimport getIds from \"./getIds\";\r\nimport toArray from \"./toArray\";\r\nimport getStrLen from \"./getStrLen\";\r\nimport getOffsetCoordinate from \"./getOffsetCoordinate\";\r\nimport getAbsUrl from \"./getAbsUrl\";\r\nimport parseHTML from \"./parseHTML\";\r\nimport deriveLinkFromLinks from \"./deriveLinkFromLinks\";\r\nimport deriveLinkFromLNL from \"./deriveLinkFromLNL\";\r\nimport deriveNodeFromNodes from \"./deriveNodeFromNodes\";\r\nimport concat from \"./deriveConcat\";\r\nimport average from \"./deriveAverage\";\r\nimport direction from \"./deriveDirection\";\r\nimport safeExecute from \"./safeExecute\";\r\n\r\nvar utils = {\r\n    filterBy: filterBy,\r\n    filterById: filterById,\r\n    getIds: getIds,\r\n    getAbsUrl: getAbsUrl,\r\n    toArray: toArray,\r\n    getStrLen: getStrLen,\r\n    getOffsetCoordinate: getOffsetCoordinate,\r\n    parseHTML: parseHTML,\r\n    deriveLinkFromLinks: deriveLinkFromLinks,\r\n    deriveLinkFromLNL: deriveLinkFromLNL,\r\n    deriveNodeFromNodes: deriveNodeFromNodes,\r\n    concat: concat,\r\n    average: average,\r\n    direction: direction,\r\n    safeExecute: safeExecute\r\n};\r\n\r\nexport default utils;"],"names":["color","label","selected","grouped","transformed","direction","unmerge","remove","NtoL","getJSON","ungroup","findShortestPath","defaultConfig"],"mappings":"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"}